[{"title":"黑天鹅之舞：水面镜像中的生命对话","url":"/2026/02/17/2026-02-17-black-swans-dance/","content":"在春日微寒的池塘边，两只黑天鹅正进行着一场无声的仪式。它们弯曲的脖颈构成完美的弧线，在浑浊的水面上投下摇曳的倒影，仿佛现实与虚幻在此刻交融。\n黑天鹅，这个常被赋予”意外与颠覆”象征的物种，在这里展现出截然不同的意象——不是突兀的异类，而是和谐的共舞者。它们鲜红的喙尖轻轻相触，如同在交换某种古老而神秘的讯息。这并非偶然的相遇，而是一种精心编排的生命对话。\n水面的涟漪扩散开来，打破了完美的镜像，却也提醒我们：真实的生活从来不是静态的完美复制，而是在动态中寻找平衡的艺术。\n背景中模糊的人影与绿植，构成了现代都市中难得的自然剧场。我们作为观察者，既是旁观者也是参与者，在这场自然之舞中重新思考人与自然的关系。\n黑天鹅教会我们的，或许不是如何与众不同，而是如何在差异中找到共鸣，在流动中保持优雅。\n\n","categories":["随笔"],"tags":["自然观察","生态哲学","摄影思考"]},{"title":"晨光中的玻璃森林","url":"/2026/02/26/2026-02-26-morning-light-incubation-park/","content":"\n随手拍于成都孵化园 | 2026.02.25 09:46\n\n早晨九点半的成都，阳光从东南方斜切进来，给孵化园的玻璃幕墙镀上一层淡金色。\n站在高处看这座城市，总有种奇妙的抽离感。楼下是天府大道永不熄灭的车流，眼前是密密麻麻的玻璃格子——每个格子后面都是一个正在运行的故事：有人在开早会，有人在写代码，有人在为某个产品焦虑，也有人刚泡好一杯咖啡准备开始一天。\n我喜欢这个时刻的光线。它不像正午那样刺眼直白，而是带着某种试探性的温柔，在建筑群之间游走。左边的住宅楼群还沉浸在淡蓝色的阴影里，右边的写字楼已经开始反光，像一面面巨大的镜子，把天空的云彩和城市的野心都收纳进去。\n有人说，孵化园是成都的大脑。 这里聚集了数不清的科技公司、创业团队和程序员。但在这个瞬间，这些标签都消失了。它们只是一群沉默的方盒子，在晨光中安静地呼吸。玻璃幕墙的冷峻背后，藏着无数个具体的梦想和琐碎的日常。\n我想起卡尔维诺在《看不见的城市》里写的：”城市就像梦境，是希望与畏惧建成的。” 孵化园大概就是这样一座梦境——它是理性的、高效的、现代化的，但当你在某个早晨驻足观望，你会发现它也有柔软的时刻。当阳光以特定的角度穿透这些玻璃盒子，钢铁森林也会短暂地变得温暖。\n十分钟后，这束光就会移走，建筑会恢复它们惯常的冷漠色调。车流会继续，会议会继续，代码会继续被写出。但这个瞬间被留下来了——一个普通工作日的早晨，一个人站在窗边，用手机记录下了这座城市刚刚醒来的样子。\n有时候，”孵化”这个词不仅仅指创业公司在成长。或许，我们每个人的某些时刻，也正在被这座城市悄然孵化。\n","categories":["随笔"],"tags":["成都","孵化园","城市观察","随笔","晨光"]},{"title":"晨间流动","url":"/2026/02/28/Morning-City-Flow/","content":"\n俯瞰的视角周六早晨，九点零七分。我站在窗边，俯瞰下方的主干道。从这个高度，城市展现出它隐藏的几何美学——车道如河流般流淌，建筑如哨兵般伫立，车辆以编排好的轨迹移动。\n天空被厚重的灰云覆盖，将晨光过滤成柔和而均匀的光晕。沥青路面还残留着昨夜雨水的痕迹，在阴暗的天空下映出一片片黑色的镜面。\n流动的节奏首先触动我的是那种流动。车辆在双向车道上穿梭——白色、黑色、红色、绿色的点沿着预设的路径滑行。一辆黄色的公交车切开车流，载着通勤的乘客。标志性的绿色出租车在车道间穿梭，寻找着乘客。\n从高处看，个体的故事消融在集体的运动之中。每辆车里都装着一段人生——有人赶去上班，有人去探望家人，有人跑腿办事——但它们共同构成了更宏大的东西：这座城市在周六早晨的脉搏。\n密度的建筑左侧，一排排住宅楼肩并肩地站立着。它们的阳台创造出白色与阴影的韵律图案——数千个垂直堆叠的私人空间。我不禁想知道，那些窗户后面还有多少人仍在沉睡，享受着周末免于闹钟的喘息。\n右侧，玻璃摩天大楼更高地耸立，它们的幕墙反射着灰色的天空。这些是商业堡垒，即使在周六也已经嗡嗡作响。在那些塔楼的某处，会议正在进行，交易正在达成，屏幕正在发光。\n夹缝之间车道之间，一条绿化带像脊柱一样贯穿道路中央。两侧排列着树木，它们深绿色的树冠形成一条穿过混凝土的自然走廊。它们学会了与沥青共存，与尾气共存，与引擎持续的低鸣共存。\n这种秩序有一种奇异的美感。白色条纹的人行横道。循环往复的红绿灯。将混乱挡在门外的中央隔离带。城市之所以能够运转，是因为这些看不见的契约，这些数百万人无意识地遵守的共同规则。\n阴天的倒影潮湿的路面捕捉到天空的碎片。低头看去，我看到一个倒置的世界——云朵飘浮在地面上，建筑倒立着。一瞬间，上与下的边界消解了，我想象着如果从下方看这座城市会是什么样子，从积在街道浅凹处的积水的视角。\n一只红灯笼挂在画面的角落，是旧时光的回响。它在现代塔楼之间显得格格不入，却又完全自在。传统延续着，在进步的缝隙中找到自己的位置。\n脉搏继续我看了看表：九点十五分。在我拍下这张照片后的八分钟里，数百辆车经过了这个画面。数千人从A点移动到了B点。这座城市消耗了无数升燃料，产生了兆瓦的电力，处理了太字节的数据。\n然而从这里看，一切都显得如此平静。如此有序。如此复杂而美丽。\n云层没有散去的迹象。车流没有停止的迹象。城市呼吸着，吐纳着，对我的观察无动于衷，继续着它永恒的周六早晨流动。\n\n拍摄于 2026.02.28 09:07，成都·高新区\n","categories":["随笔"],"tags":["成都","摄影","城市","晨间","交通"]},{"title":"锦城湖春日即兴","url":"/2026/02/26/2026-02-26-jincheng-lake-spring/","content":"🌸 锦城湖春日即兴锦城湖畔柳初青，东风拂面雨新晴。云卷云舒随鸟过，花开花落听蛙鸣。\n📍 成都阦城湖春景\n天气：多云转晴，春风和骺，偶有细雨  \n温度：约 15-20°C，春寒微凉  \n氛围：湖光潋滟，杨柳依依，鸟语花香\n\n💬 诗意解读这首诗融合锦城湖的春日景色与天气特征。桞叶初绿、东风吹过说明季节已至，云卷云舒是成都季节多变的气候写照，细雨蛙鸣则描绘了溼润温暖季春日常态。整体意境轻松自然，既有对锦城湖美景的描绘，也体现了成都季节”春寒料峭、时有细雨”的典型特征。\n\n2026 年 2 月 26 日 于成都\n","categories":["随笔"],"tags":["成都","诗歌","春日"]},{"title":"十字路口：城市的微缩剧场","url":"/2026/02/26/crossroads-city-rhythm/","content":"从十八楼往下看，这个十字路口像一块被精密校准的钟表。\n\n下午六点三十二分，日光正在撤离这座城市。我按下快门的瞬间，恰好捕捉到四个方向的人流同时涌向中心的奇观——这不是混乱，而是一种高度秩序化的混沌。\n交通工具的阶层学\n画面左下角，那辆橙黑相间的公交车像一头疲惫的老兽，缓慢地驶入左转道。它承载着最多数的乘客，却拥有最慢的速度权。在它右侧，几辆白色私家车保持着礼貌的距离，它们的司机大概刚刚结束一天的工作，正计算着回家路上还要经过几个这样的路口。\n而画面右下角，那片密集的电动车群才是真正的城市主力军。它们不受车道限制，在缝隙中穿行，像血液在毛细血管中流动。骑电动车的人通常不赶时间，因为他们早已学会了与拥堵共处。\n最有趣的是左下角的共享单车堆。青桔、美团、哈啰，三种颜色整齐地码放在一起，像某种现代艺术装置。它们的用户是随机的、流动的、不可预测的——可能是刚下地铁的上班族，可能是附近大学的学生，也可能是第一次来这座城市的游客。\n四种交通工具，四种速度，四种生活方式，在同一个平面内共存。\n垂直视角的暴力\n航拍是一种特权。当你从十八楼往下看，所有人都变成了蚂蚁，所有车都变成了玩具。这种视角消除了个体的独特性，暴露出城市的机械本质。\n但这不是冷漠，而是一种必要的抽离。只有当我们把自己从地面上拔起，才能看清这个路口的真相：它每天吞吐几十万人，却从未为谁停留。它是无情的，也是公平的——无论你是开着保时捷还是骑着共享单车，红灯亮起的时刻，你们必须同时停下。\n二月的尴尬\n照片拍摄于2月26日，春节刚过，但气氛并未完全消散。路灯杆上挂着的大红灯笼还在，像某种不愿离场的记忆。树木处于最尴尬的状态——有的已经冒出新芽，有的还挂着枯叶，仿佛这座城市在冬春之间犹豫不决。\n这种尴尬是真实的。 February in Chengdu 没有北方的肃杀，也没有南方的温润，它是一种暧昧的状态，就像那些骑电动车的人——既不完全是行人，也不完全是驾驶者，处于一种法律与现实的灰色地带。\n等待的哲学\n注意看画面中央那群等红灯的电动车。他们并不是静止的，而是在轻微地摇晃、调整、预判。绿灯亮起的瞬间，他们会像箭一样射向四个不同的方向，但在那之前，他们共享同一种状态：等待。\n等待是现代城市生活的核心经验。我们等地铁、等电梯、等外卖、等回复。而这个路口，把这种等待可视化、集体化、仪式化了。当红灯亮起，几十个人同时停下，这是一种短暂的平等；当绿灯亮起，他们四散而去，这是秩序的恢复。\n谁是主角？\n我拍这张照片的时候，以为自己在记录城市。但仔细看，那个穿着黄色外套的外卖员正穿过画面中央——他可能比我更懂这个城市。还有那些停在路边的黑色轿车，车窗紧闭，我不知道里面坐着谁，他们也不知道十八楼有个人正在看着他们。\n这就是城市的本质：每个人都是自己故事的主角，同时是别人镜头里的背景。\n尾声\n照片右下角的水印显示时间是18:32。十分钟后，天会完全黑下来，路灯会亮起，这个路口会进入另一种模式——灯光模式。那时，车辆的尾灯会连成红色的河流，而我会已经离开这扇窗，回到自己的生活中去。\n十字路口继续运转。它不关心谁拍过它，谁写过它，谁在某个傍晚从十八楼往下看过它。它只是在那里，日复一日，吞吐着人流，见证着无数微小的人生在交汇与分离之间循环往复。\n而我们，都只是偶尔从高处往下看一眼的人。\n\n拍摄于 2026.02.26 18:32，成都·高新区\n","categories":["随笔"],"tags":["成都","城市观察","摄影","生活随笔","人文地理"]},{"title":"红杏酒家：春夜里的成都记忆","url":"/2026/02/27/hongxing-restaurant-spring-night/","content":"\n春夜初印象晚上八点，我路过红杏酒家，被眼前的景象绊住了脚步。夜色中的杏花与红灯笼相遇，传统与现代在这一刻温柔地重叠。这不是刻意寻找的风景，而是城市角落里不期而遇的诗意。\n核心观察这张照片的构图充满层次感。前景的杏花树枝形成天然画框，白色的花朵在夜色中显得格外清雅。四盏红灯笼悬于枝头，暖光穿透花瓣，在青砖墙上投下摇曳的影子。\n招牌上的”红杏酒家”四个字从右至左排列，金色字体在深色木板上沉稳大气。门口的抱鼓石、玻璃门内的装饰细节，都在诉说着这家酒楼的底蕴。而前景那辆银色轿车，默默提醒着这是2026年的成都街头。\n冷暖色调的碰撞是这张照片的精髓：红灯笼的暖、夜空的冷、杏花的白、砖墙的灰，共同编织出春夜的视觉交响。\n深度思考：城市的味觉记忆红杏酒家是成都人熟悉的川菜品牌，但在这张照片里，它不再是单纯的消费场所，而成为一个文化符号。\n杏花与酒家的组合，暗合了古人”红杏枝头春意闹”的诗意。只是这”闹”字，在夜晚变成了温柔的静谧。花枝从画面上方垂落，像是春天伸出的手，轻轻触碰着城市的烟火气。\n我想起成都人对待美食的态度——既要味道的正宗，也要环境的惬意。红杏酒家门口的这一树花，或许比任何广告都更能诠释”巴适”二字。它不张扬，却让人忍不住驻足；它不喧嚣，却承载着无数家庭聚餐的欢声笑语。\n那辆停在门口的轿车，车窗反射着灯笼的光。车里的导航屏幕还亮着，司机也许正在等家人吃完饭，也许刚送完客人准备离开。现代生活的节奏与传统酒楼的从容，在这一刻达成了微妙的平衡。\n结语春夜路过红杏酒家，我看到的不仅是一家餐馆的门头，更是成都这座城市的态度：在繁华中保留诗意，在 modern 中坚守传统。\n杏花年年会开，灯笼夜夜会亮，而每一次路过的人，都会带走属于自己的那份温暖记忆。\n\n拍摄于 2026.02.27 20:01，成都·红杏酒家\n","categories":["随笔"],"tags":["成都","摄影","红杏酒家","春夜","城市记忆"]},{"title":"逆光中的信使","url":"/2026/02/26/2026-02-26-backlit-messenger-jincheng-park/","content":"\n随手拍于锦城公园 | 2026.02.26 12:27\n\n成都的春天总是从紫叶李开始的。\n在锦城公园散步时，我被这一树逆光中的白花拦住。正午的阳光从东南方斜射过来，穿透薄薄的花瓣，把它们照得近乎透明。那些淡紫色的花蕊在光线下像细小的触角，探向天空，仿佛在接收某种来自高处的信号。\n紫叶李是一种很有意思的树。它不像樱花那样张扬，也不像桃花那样艳丽。它的花期很短，大概只有十天左右，而且往往开得悄无声息。等你注意到它时，可能已经是满地的白色花瓣了。但在那之前，它就这样安静地挂在枝头，在城市的缝隙里，在写字楼的阴影中，在地铁站的出口旁，提醒着每一个路过的人：春天来了，真的来了。\n锦城公园是个奇妙的地方。它被困在高新区的玻璃森林中间，四周是腾讯大厦、阿里巴巴、各种孵化器和写字楼。这里的人走路都很快，讲话都很快，连吃饭都很快。但每年二月底，这些紫叶李不管这些。它们按照自己的节奏开花，按照自己的节奏落叶，完全不理会旁边那些正在冲刺IPO的公司，也不理会那些焦虑的程序员。\n我想，这就是自然对城市的温柔反抗。\n在这个公园里，时间是有层次的。地层下面是第四纪的沉积物，上面是2000年后才种下的草坪，再往上是2020年建成的步道，而现在，在这一瞬间，是这些只有七天寿命的花朵。我站在那里拍照的时候，突然意识到自己也成为了这个时间层次的一部分——一个将要消失的瞬间，被一个想要留住瞬间的人，用一台金属和玻璃组成的设备，试图对抗遗忘。\n逆光拍摄总是有种魔力。它让平凡的事物变得神圣。这些紫叶李在顺光下看其实挺普通的，白色的花，紫红的叶，随处可见。但当阳光从背后照过来，它们就变成了灯笼，变成了信标，变成了春天派来的信使。每一朵花都在发光，仿佛在说：”看，我还在，我还在这里。”\n十分钟之后，一阵风吹过，几瓣花落在我的肩头。我没有抖掉它们，就这样带着它们走回了办公室。电梯里，一个穿格子衫的程序员看了我一眼，又看了看我肩上的花瓣，愣了一下，然后笑了。他大概也想起了什么——也许是家乡的某棵树，也许是某个已经远去的人，也许只是意识到，自己很久没有抬头看花了。\n这就是紫叶李的意义吧。它不开花的时候，你完全注意不到它。它开花的时候，你也可能只是匆匆路过。但如果你恰好停下了，恰好抬头了，恰好看到了逆光中那些透明的花瓣，你就会在某个瞬间，从时间的洪流中暂时上岸，喘一口气，然后发现自己还活着，还能被一朵花感动。\n锦城公园的花还在开。我的肩上的花瓣已经不在了。但那个瞬间被留下来了——在一张照片里，在一段文字中，在一个普通工作日的正午，阳光很好，风很轻，一个人站在树下，试图用镜头接住春天。\n","categories":["随笔"],"tags":["成都","城市观察","随笔","锦城公园","春天","紫叶李"]},{"title":"黄昏俯瞰：锦城公园的十字路口","url":"/2026/02/26/huanghun-nk-jincheng-traffic/","content":"\n  \n  拍摄于锦城公园观景平台 | 2026.02.26 18:38\n\n\n成都的黄昏从不急着降临。\n2026 年 2 月 26 日，18:38。我从高处俯瞰锦城公园的十字路口，看到的是这座城市最真实的一刻——不是写字楼里那些被 PPT 包装好的数据，不是社交网络上精心修饰的生活，而是下班高峰期，千万普通人汇成的洪流。\n红灯笼下的日常道路两旁的红灯笼还没有摘下。也许是春节还没走远，也许是成都人总想在冬天结束时多留一点热闹。它们在暮色中微微发亮，像一条条悬在半空中的记忆带，把现代都市和古老节令串联在一起。\n黄色的公交车缓缓进站。我认得那颜色——5 年前它还是绿色，再早年是红色。城市的交通工具在换代，但等待的人们依然相同。\n等待的众生相最密集的人流在左下角——电动自行车和摩托车的等候区。那里至少有几十辆车，像等待出港的船队。骑手们低着头，有的在刷手机，有的在整理防风口罩，有的在和旁边的同伴说笑。\n他们可能是送外卖的，可能是通勤的，可能是刚刚结束一天工作的。在这个路口，身份界限模糊了——等红灯的时候，大家都一样。\n旁边的人行道上，共享单车密密麻麻地停着。蓝色和黄色的车身交织在一起，像某种城市拼贴画。我知道，明天这个时候，这些车会被共享单车公司的调度员重新分配，有些会挪到地铁站，有些会挪到写字楼，有些会挪到商场。\n城市基础设施的本质，就是不断流动的秩序。\n时间层次这个路口有它自己的时间层次：\n\n物理层：柏油路面，2020 年铺的，下面还有更早的地下管线\n交通层：红绿灯的周期，72 秒一个完整周期，早晚高峰调整配时\n建筑层：周围的高楼，最新的 2021 年建成，最老的 2008 年\n人文层：红灯笼是春节的残留，可能是上个月挂上去的\n\n而我的这个瞬间，是第 N 次经过这里。只是从高处看下去，视角不同了，故事也不一样了。\n逆光与顺光这张照片拍摄于傍晚，天色刚暗下来不久。我猜拍摄者用的是手机的夜景模式——那种算法优化的痕迹，让亮处不过曝，暗处有细节。但我觉得这正好符合主题：\n城市从不只有一种颜色。\n有人喜欢它的繁华灯火，有人嫌它拥堵喧嚣。有人在写字楼里赚着高薪，有人在路口送着外卖。有人觉得红灯笼俗气，有人觉得这是节日的仪式感。\n就像逆光拍摄的紫叶李——顺光看是普通的花，逆光看就成了信使。\n拍摄者标记左下角的”Meng”水印，是我自己的标记。2 月 26 日，18:38。\n我后来才知道，锦城公园有个观景平台，离这个路口大概几百米。那天我站在平台上，看着车流从四面八方汇聚、分流，像某种城市呼吸的节奏。\n我们每天经历的拥堵、等待、通行，对城市来说是日常，对个人来说可能就是全部。\n为什么拍这张照片不是因为美——它不够唯美，交通太密集，共享单车有点乱，画面里甚至没有蓝天。\n而是因为它真实。\n不是那种经过修饰的真实，不是朋友圈的九宫格，而是下班高峰期，成都高新区一个普通路口，千万普通人正在经历的时刻。\n有些时刻值得被记录，不是因为它们完美，而是因为它们是此刻。\n\n\n\n© 2026 李萌 LeeMeng | \n关于 |\n归档 |\nRSS\n\n\n","categories":["摄影随笔"],"tags":["成都","城市观察","锦城公园","摄影随笔","傍晚","十字路口"]},{"title":"锦城湖：倒影练习","url":"/2026/02/27/jincheng-lake-reflection/","content":"中午十二点二十五分，锦城湖的湖面是一面诚实的镜子。\n\n它不关心草地与高楼哪个更重要，只是平等地复制天空、建筑和柳枝。在风的间歇里，水下那个倒置的城市甚至比现实更清晰——更安静，更缓慢。\n成都自称”公园城市”，这个口号充满张力。公园是逃离，城市是卷入；公园消费时间，城市生产价值。但站在湖边，我看到它们达成了微妙的停战：湖水是缓冲区，草地是过渡带，柳树是谈判代表。\n云层过滤了正午的阳光，建筑不再咄咄逼人，湖水呈现出沉稳的灰绿色。在这个柔和的光线里，公园和城市终于同步了。\n岸边的柳树已发新芽。它们见证锦城湖的四季，也见证高楼从无到有。柳树不说话，只是每年春天按时变绿，提醒人们时间不以房地产周期为转移。\n按下快门时，一只水鸟掠过湖面，没有留下痕迹。湖水只负责此刻的倒影，不负责记忆。\n而此刻，自然与人工，快与慢，在这里达成短暂的和解。\n\n拍摄于 2026.02.27 12:25，成都·锦城湖\n","categories":["随笔"],"tags":["成都","城市观察","摄影","锦城湖","公园城市"]},{"title":"OpenClaw 完全入门教程 - 从零开始部署你的AI助手","url":"/2026/02/25/openclaw-tutorial/","content":"OpenClaw 完全入门教程什么是 OpenClaw？OpenClaw 是一个开源的 AI 助手平台，让你可以在本地运行智能代理，管理你的数字生活。它类似于一个可以安装各种技能的”AI操作系统”，通过不同的技能（Skills）来扩展功能。\n核心特性\n本地优先: 数据保存在本地，隐私可控\n技能系统: 模块化设计，按需安装功能\n多平台支持: 支持多种消息渠道（Telegram、Discord、Slack等）\n上下文感知: 智能记忆管理，跨会话保持连续性\n工具集成: 文件管理、网络搜索、浏览器控制等\n\n\n快速开始1. 环境准备系统要求:\n\nmacOS 12+ 或 Linux\nNode.js 18+\n至少 4GB 可用内存\n\n安装 OpenClaw:\n# 使用 npm 全局安装npm install -g openclaw# 验证安装openclaw --version\n\n2. 初始化工作空间# 创建工作目录mkdir -p ~/.openclaw/workspacecd ~/.openclaw/workspace# 初始化项目openclaw init\n\n初始化后会生成以下文件结构：\nworkspace/├── AGENTS.md          # 代理配置文件├── SOUL.md            # AI人格定义├── USER.md            # 用户信息├── IDENTITY.md        # 身份标识├── TOOLS.md           # 工具配置├── MEMORY.md          # 长期记忆├── HEARTBEAT.md       # 定期任务├── memory/            # 每日记忆目录│   └── 2026-02-25.md└── blog/              # 博客/文档目录\n\n3. 基础配置编辑 IDENTITY.md 定义你的AI助手：\n# IDENTITY.md- **Name**: Claw Assistant- **Creature**: AI Digital Companion- **Vibe**: Friendly, professional, with a touch of humor- **Emoji**: 🤖\n\n编辑 USER.md 记录用户信息：\n# USER.md- **Name**: 张三- **What to call them**: 张哥- **Timezone**: Asia/Shanghai- **Notes**: 喜欢自动化工具，重视隐私\n\n\n核心功能详解记忆系统OpenClaw 的记忆系统分为三级：\n\n短期记忆: 当前会话上下文\n每日记忆: memory/YYYY-MM-DD.md 记录当天活动\n长期记忆: MEMORY.md 持久化重要信息\n\n使用示例:\n# 自动记录重要决策请记录：我决定使用 Next.js 重构网站# 稍后查询我昨天做了什么决定？\n\n技能系统 (Skills)OpenClaw 通过技能扩展功能。当前可用技能：\n📱 Apple 集成\napple-notes: 管理 Apple 备忘录\napple-reminders: 管理提醒事项\n\n📝 笔记工具\nbear-notes: Bear 笔记管理\n\n🤖 AI 工具\ngemini: Google Gemini API 集成\n\n🌐 实用工具\nweather: 天气查询\nweb_search: 网络搜索 (Brave API)\nweb_fetch: 网页内容提取\n\n🛠️ 开发工具\nmcporter: MCP 服务器管理\nhealthcheck: 系统安全检查\nskill-creator: 创建自定义技能\n\n安装技能:\n# 查看可用技能openclaw skills list# 安装特定技能openclaw skills install weather\n\n工具调用OpenClaw 支持多种工具操作：\n文件操作# 读取文件read(path=&quot;config.json&quot;)# 写入文件write(path=&quot;output.txt&quot;, content=&quot;Hello World&quot;)# 编辑文件edit(path=&quot;config.yml&quot;, oldText=&quot;version: 1.0&quot;, newText=&quot;version: 2.0&quot;)\n\n系统命令# 执行命令exec(command=&quot;ls -la&quot;, workdir=&quot;/home/user&quot;)# 后台进程exec(command=&quot;npm start&quot;, background=true)\n\n网络操作# 搜索web_search(query=&quot;OpenClaw tutorial&quot;, count=5)# 获取网页内容web_fetch(url=&quot;https://docs.openclaw.ai&quot;)\n\n浏览器控制# 打开网页browser(action=&quot;open&quot;, targetUrl=&quot;https://example.com&quot;)# 截图browser(action=&quot;screenshot&quot;, fullPage=true)# 自动化操作browser(action=&quot;act&quot;, request=&#123;&quot;kind&quot;:&quot;click&quot;, &quot;ref&quot;:&quot;submit-button&quot;&#125;)\n\n\n实际应用场景场景1：每日工作流自动化创建 HEARTBEAT.md：\n# 每日检查清单## 上午 9:00- [ ] 检查未读邮件- [ ] 查看今日日程- [ ] 同步代码仓库## 下午 6:00  - [ ] 提交今日工作记录到 memory- [ ] 清理临时文件- [ ] 备份重要数据\n\n配置定时任务：\n# 每小时检查一次openclaw cron add --name &quot;hourly-check&quot; \\  --schedule &quot;0 * * * *&quot; \\  --prompt &quot;Read HEARTBEAT.md and execute pending tasks&quot;\n\n场景2：智能笔记管理结合 Apple Notes：\n# 创建会议记录请帮我创建一条备忘录，标题是&quot;产品评审会议&quot;，内容是今天的讨论要点...# 稍后查询我上周的产品评审会议记了什么？\n\n场景3：代码项目助手# 检查项目状态请检查 ~/projects/my-app 的 git 状态# 创建新功能分支基于 main 分支创建 feature/new-ui 分支# 生成提交信息根据本次修改生成符合 Conventional Commits 规范的提交信息\n\n场景4：信息收集与研究# 搜索最新技术资讯搜索关于 &quot;2026年前端发展趋势&quot; 的最新文章# 提取关键信息访问前三个链接，提取主要内容并总结成思维导图大纲# 保存到笔记将研究结果保存到今天的记忆文件\n\n\n高级配置多平台消息集成配置 Telegram Bot：\n# 设置 Telegram Tokenopenclaw configure --channel telegram --token YOUR_BOT_TOKEN# 启动消息监听openclaw gateway start\n\n配置 Discord：\nopenclaw configure --channel discord --token YOUR_BOT_TOKEN\n\n自定义技能开发使用 skill-creator 创建新技能：\n# 初始化技能项目openclaw skill init my-custom-skill# 技能目录结构my-custom-skill/├── SKILL.md           # 技能定义├── package.json       # 依赖配置├── src/               # 源代码│   └── index.js└── README.md\n\nSKILL.md 示例:\n# My Custom Skill## DescriptionSend notifications via custom API## Tools- notify: Send push notification- list: List recent notifications## Usagenotify(title=&quot;Alert&quot;, message=&quot;Something happened&quot;)\n\n会话管理# 列出活跃会话openclaw sessions list# 向特定会话发送消息openclaw sessions send --sessionKey abc123 &quot;Hello from main session&quot;# 创建子代理会话openclaw sessions spawn --agentId researcher --task &quot;Research quantum computing&quot;\n\n\n最佳实践1. 隐私保护\n敏感信息使用环境变量存储\n定期清理 memory 文件中的敏感数据\n使用本地模型（如 Ollama）处理隐私数据\n\n2. 性能优化\n限制并发工具调用数量\n使用 compact 模式管理长会话\n定期归档旧的 memory 文件\n\n3. 错误处理// 在自定义技能中处理错误try &#123;  const result = await tool.exec(&#123;...&#125;);&#125; catch (error) &#123;  console.error(&#x27;Tool execution failed:&#x27;, error);  // 优雅降级&#125;\n\n4. 版本控制# 初始化 git 仓库cd ~/.openclaw/workspacegit initgit add .git commit -m &quot;Initial OpenClaw configuration&quot;# 定期备份openclaw backup create --name &quot;weekly-backup&quot;\n\n\n故障排除常见问题Q: OpenClaw 无法启动？\n# 检查 Node.js 版本node --version  # 需要 v18+# 清除缓存openclaw cache clear# 重新安装npm uninstall -g openclawnpm install -g openclaw\n\nQ: 工具调用失败？\n\n检查工具依赖是否安装\n验证配置文件路径\n查看日志：openclaw logs --tail 100\n\nQ: 记忆系统不工作？\n\n确认 memory 目录存在且有写权限\n检查 MEMORY.md 文件格式\n尝试重建索引：openclaw memory rebuild\n\n\n参考资源\n官方文档: https://docs.openclaw.ai\nGitHub: https://github.com/openclaw/openclaw\n技能市场: https://clawhub.com\n社区: https://discord.com/invite/clawd\n\n\n结语OpenClaw 是一个强大的个人 AI 助手平台，通过模块化的技能系统和灵活的配置，可以适应各种使用场景。从简单的日常任务到复杂的工作流自动化，OpenClaw 都能胜任。\n开始你的 OpenClaw 之旅吧！🚀\n\n本文档使用 OpenClaw 自动生成并发布于 2026-02-25\n","categories":["技术教程"],"tags":["OpenClaw","AI助手","教程","部署"]},{"title":"春径","url":"/2026/03/01/%E6%98%A5%E5%BE%84/","content":"\n路的邀请从绿地转身，一条砖石小径映入眼帘。\n它比刚才那片草地更安静，更私密。红色的砖块与浅色的石材交错铺就，像琴键一样延伸向远方，引诱着行人踏上去，看看转角处藏着什么。\n两侧的守护小径两旁，草地如绿色的绒毯，柔软而饱满。几棵树木站在路边，树干挺拔，枝叶在头顶交织成天然的拱门。阳光透过叶隙洒下，在地面上投下斑驳的光影，随着微风轻轻摇曳。\n远处的灌木丛中，隐约可见一点红色——或许是早开的花朵，或许是园林工人的小心思。那点红在满眼的绿意中格外醒目，像春天递出的一张名片。\n天空的馈赠今日的天空格外慷慨。蓝得透彻，白得轻盈，几朵白云悠闲地飘浮着，像是被这春日的暖阳晒得慵懒了。\n这样的天气，让人忍不住放慢脚步。不是为了抵达某个目的地，而只是为了感受阳光洒在肩头的温度，感受微风拂过面颊的轻柔，感受脚下砖石传来的坚实与安稳。\n城市中的小径哲学这条小径并不通向什么名山大川，它只是城市公园里的一条普通步道。但正是这些普通的小径，构成了我们日常生活的一部分。\n它们提醒我们：即使身处城市，也总有路可以走向自然；即使日程繁忙，也总可以抽出十分钟，在这条小径上走走，让心歇一歇。\n路，从来都是给人走的。而这条春径，是写给每一个愿意慢下来的人的诗。\n尾声我没有走到小径的尽头。\n有些路，不必走完。留下一点想象，一点期待，一点”下次再来”的念想，或许才是对春天最好的尊重。\n毕竟，春径年年会在这里，而每一次经过，都会有不同的心情，不同的风景，不同的自己。\n\n拍摄于 2026.03.01 13:17，成都\n","categories":["随笔"],"tags":["成都","摄影","春天","公园","步道"]},{"title":"春日的城市绿洲","url":"/2026/03/01/%E6%98%A5%E6%97%A5%E7%9A%84%E5%9F%8E%E5%B8%82%E7%BB%BF%E6%B4%B2/","content":"\n初春的馈赠三月一日，午后一点十一分。\n我走过这条熟悉的街道，却在转角处被一片绿意绊住了脚步。这不是什么著名的公园，只是城市缝隙里的一块绿地——但此刻，它美得恰到好处。\n绿意盎然大片的麦冬草铺满地面，翠绿得几乎要流淌出来。几棵高大的香樟树矗立其中，树干底部被细心地刷上了白色的防护层，像穿着白袜子的卫士，默默守护着这片小小的天地。\n阳光穿过云层，洒在草地上，形成柔和的光影。这种光线不刺眼，不灼热，只是温暖地包裹着你——这是春日独有的温柔。\n城市的呼吸右侧蜿蜒的石板路黑白相间，几何图案规整而现代。几位市民坐在远处的长椅上，或交谈，或静思，享受着这片刻的宁静。\n背景中，居民楼的轮廓隐约可见。这种”建筑中的绿洲”的构图，恰恰是当代城市生活的缩影：我们在钢筋水泥的森林里，为自然保留了一块喘息之地。\n见缝插绿的智慧树木的涂白、草地的修剪、步道的铺设——这些细节都在诉说着园林工人的用心。在中国南方的城市里，这样的”口袋公园”越来越多。它们不需要宏大的叙事，只是安静地存在着，为路过的行人提供一片绿荫，一方草地，一次深呼吸的机会。\n这就是城市更新的温度：不是推倒重来，而是在缝隙里种下希望。\n尾声我继续往前走，但脚步慢了下来。\n这片绿地提醒我：春天已经来了，哪怕只是在一个普通的午后，在一个不起眼的街角。而我们需要的，或许就是停下脚步，看看身边的绿意，感受季节的流转。\n毕竟，生活的美好常常就藏在这些不经意的瞬间里。\n\n拍摄于 2026.03.01 13:11，成都\n","categories":["随笔"],"tags":["成都","摄影","城市","春天","公园"]},{"title":"九点零五分：一座城市的留白","url":"/2026/02/27/morning-city-blank/","content":"早上九点零五分，我站在这条街上，发现城市也有它的留白时刻。\n\n通常，我们印象中的城市是拥挤的。早高峰的地铁、排队的电梯、填满人行道的通勤大军——这些都是城市的常态。但这张照片捕捉到的，是城市褶皱里一个罕见的平静瞬间。\n关于空旷的悖论\n这条街道位于成都高新区，周围是孵化园、写字楼、科技园区。按理说，九点应该是人声鼎沸的时刻。但镜头里的街道几乎是空的，只有一个模糊的人影在远处，像是一个意外的标点符号。\n这种空旷不是荒凉，而是一种秩序。电动车整整齐齐地码放在公交站旁，等待被使用；共享单车的轮胎朝向同一个方向，仿佛在接受检阅；街道的石板缝隙里，甚至能看到昨夜的雨水痕迹。一切都准备就绪，只是人还没有来。\n或者说，人已经走了另一条路——可能是地下的地铁，可能是背后的机动车道，可能是还没开工的居家办公。城市的表面安静了，但它的血管里，血液正以另一种方式流动。\n建筑的沉默\n右侧的建筑是典型的现代办公楼风格——玻璃幕墙、几何线条、面无表情。它们不记录时间，只反射天空。今早的云层很厚，光线柔和，建筑物看起来比平常温和一些。\n左侧的树木倒是更有生命力。虽然还是二月，叶子没有全长出来，但树冠的形状已经很饱满。它们在这条街上站了多久？见证了多少家公司的搬迁、多少人的入职与离职、多少个类似的清晨？\n树木是城市里最古老的居民，也是最有耐心的观察者。\n一个人的舞台\n仔细看照片中央，那个小小的人影。他（或者她）正走在街道的中轴线上，背对着镜头。不知道要去哪里——也许是赶一场会议，也许是去买一杯咖啡，也许只是出来透透气。\n在这个空旷的舞台上，这个人暂时拥有了整条街道。这种特权不会持续太久。十分钟后，这里可能会挤满上班族；一小时后，外卖电动车会塞满每一个角落；傍晚时分，这条街又会恢复现在这样的安静。\n但九点零五分的这一刻，属于他一个人。\n尾声\n我们总以为城市是永恒的，是钢筋水泥的丛林，是永不熄灭的灯火。但站在九点零五分的这条街上，我突然觉得城市也是脆弱的——它需要人的填充，需要声音的点缀，需要那些看似混乱的活力。\n没有人的城市，只是一座精致的废墟。\n而今天的九点零五分，我见证了它还未醒来的样子。\n\n拍摄于 2026.02.27 09:05，成都·高新区\n","categories":["随笔"],"tags":["成都","城市观察","摄影","晨间","生活随笔","高新区"]},{"title":"在龙族上看到一美文！（很有意思）","url":"/2006/10/14/2006/belles-lettres/","content":"有人说：泡茶与泡mm，都是一个泡，都是工夫，都是文化；品茶和品女人，都是一个品，都是妙趣，都是享受。而我要说的是，时代不同了，凭什么“泡”这个行为动作只属于男人？泡茶与泡男人，都是一个泡，都是工夫，都是艺术；品茶和品男人，都是一个品，都是妙趣，都是享受！    \n好茶要好水，上好的泡茶之水是天水，如雨水、雪水，露水。没读过《红楼梦》不知道妙玉用隔年雨水和多年梅花上的雪水泡茶之韵的，也应见识过《还珠格格》里的紫薇和《京华烟云》里姚木兰用荷叶上的露珠泡茶之风雅，只是现在大气污染严重，我等好茶之士也只得退而求其次奉江河山泉之水为上品了。女人如水，天水一样的女人不是做了七仙女上了天，就是化成蝴蝶飞走了，而山泉一般的清澈女人，则不少。    \n女人若水，男人若茶，这茶样的男人自然得由女人来泡了。    \n好水泡好茶，好女人泡好男人。倘若一个徐志摩那等花茶样浪漫而多情的男人，遇上了一个只知铜板的市井妇人，不是火星撞地球，也得哀叹“世风日下”了。    \n泡茶的首要步骤是温杯洗茶，这招叫若琛出浴春风拂面；泡男人的首要之举要温文尔雅，适当调动对方的温度与热情，方能让你尽情的泡和欣赏；    \n冲茶时要使“凤凰三点头”以示对客之恭敬，泡男人时切记莞尔一笑以示欣赏，同时给对方也留下好感；    \n泡茶里有一招叫“游山玩水”，方法是将茶壶之底在茶盘边缘旋转一圈，以括去壶底之水，防止滴入杯中，泡男人不妨也用用这招，即使不能现身说法的访遍祖国的大好河山，也要是图片之上饱览祖国风光，以此考验他的学识，品味他的品位；    \n关公巡城是依次来回往各杯中斟茶使茶汤分布均匀以示公允，泡男人时要遍地开花不可恩宠一人以示公平，否则打翻了醋坛子会让你死得比打翻鸡蛋篮子还要难看；    \n韩信点兵是要倾出所有壶底里的茶之精华，可提高下一次冲泡时茶水的温度，以便泡出新鲜的茶汤，泡男人亦要让其尽情的投入　以尽享个中奥妙。倘若此泡茶汤未尽，不仅影响此泡茶汤的色泽、风味，更影响下一泡茶汤的品味；倘若这一次泡男人不成功，必对下次泡男人索然无味断了兴致，或无前次之比较而少生乐趣。    \n乳臭刚退初出江湖的男子，犹如茶女手中刚刚采摘下来的鲜嫩的茶叶，只等着那个叫“妻子”的女人，亲手焙制加工成“茶”，这时的男人，初为茶形，若立即饮之，不是火味太重，就是青涩味浓，必稍加藏之，方能出佳品。于是，这初成茶形的男人在婚姻里稍加珍藏后，便可上市让众女子品了。    \n人们品茶，品的是茶女的劳动成果；我们女人品男人，品的则是另一个女人的功劳。有言证：婚姻是男人最好的学堂，而女人则是男人最好的老师。    \n茶叶根据发酵程度的不同，可分成绿茶、红茶和乌龙茶。    \n绿茶是不发酵茶，具有外形美观、富含ＶＣ等物质，有减肥美容之功效，但终因含量不够而内涵不足，往往不耐泡，顶多三泡之后，则无味了。所以泡这类男人时，千万别为他们头上的油光可鉴、说话的文质彬彬而忘了自己的形。这类茶的典型代表是西湖龙井、洞庭碧螺春；这类男人的经典代表为《花样年华》里的梁朝伟，再深邃的眼光，也无力留住自己心爱的女人，泡上这样的的男人，唯有替他忧伤，等同于玩火，因为除了伤感，他给不了你任何安全和保护。    \n红茶为全发酵茶。红茶一样的男人，外形不羁，甚至会蓬头垢面，让以貌取人之士避而远之。其实这样的粗糙，不过是一种“天然去修饰” 的大自大然之象，留心品之，只见茶色红润，入口香糯软滑，回甘醇厚，大有初吻之感，更重要的是红茶兼具保健功能，可养颜养胃驱寒气，可久饮长品。这类茶的代表为安徽祁门红茶，云南普洱茶。这类男人的典型代表为曾志伟饰演的黑社会老大。其貌不扬的黑社会老大，为了自己心爱的女人，即使知道她和她的手下有染，也甘愿献出自己的生命以维护她的安全，不得不让人唏嘘感叹。    \n乌龙茶为半发酵茶。乌龙茶一般的男人，不仅外形甚佳，且内涵丰富，泡之香气四溢，品之回味悠长，兼具绿茶和红茶之长，其独有的天然花果之气，香高馥郁，徐徐咽下，一杯清肠胃，二杯涤凡尘，三杯可得道矣！这类男人，以他们丰富的学识、修养，与智慧、幽默的谈吐，让人尽识儒风之妙。泡这类男人，非得使出一百度的高温冲泡，才能尽享其中乐趣。这类茶的经典代表是福建安溪铁观音；这类男人的经典代表则为《大长今》里的闵政浩。他能文能武，侠骨柔情，为自己心爱的女人默默追随付出，甚至不惜抛弃荣华富贵。当大长今对他因自己而失去官职无限销魂的轻问“真的没关系吗？”时，闵政浩深情的凝视着长今，用那娓娓动听的声音，深情款款的说“正是因为是你，所以才真的没关系。”这样执著、豁达与深情隽永的男人，才值得女人永远的去品味。    \n还有一种贵族茶为福建武夷大红袍，该茶因得皇帝御裳之大红袍而得名，因此，此类男人，也只适合血脉相当的贵族女子去泡去品，否则，他张口名牌，闭口家族，没准再问你一声你敲打键盘的手指属于哪个家族的血统，你不气得吐血，也会傻得吐饭。    \n写到此，我手边的铁观音散发出蛊惑人心的清香，轻轻的啜一口，醍醐灌顶，又轻轻的啜一口，神思飘渺，再轻轻的啜一口，飘飘欲仙。谁说只酒使人醉，清茗半盏亦醉人。品茶，就这么一口一口的啜饮而品。而品男人，则是用你欣赏的目光，一寸一寸的去享受他们的优秀。三口品出一杯好茶，三笑也就品出一段姻缘。人家秋香妹妹不就是这么一顾二顾连三顾的巧笑倩兮吗？虽没有倾城倾国，但也倾得大名鼎鼎的唐泊虎甘愿卖身为奴倾倒在其石榴裙下。此秋香，堪称泡男人之高手矣。而高高手则是孝庄皇太后，品得人家多尔滚连江山都不要、要站在一旁守护她“站在万人中央享受那万丈荣光”，品男人品到这份上，可谓一代宗师、登峰造极、炉火纯青了。    \n品茶若能品出“茶禅一味”来，是达到了品茶的及至境界；品男人若能品出“茶馋一味”，则到了品男人的及至境界。    \n人生品茶品男人，若无缘品得鲁迅珍藏的那几克天价普洱茶，能品品“七泡有余香”的铁观音也不错了，知足常乐嘛。    \n“平生于物原无取，偏爱山中茶一杯”。梧桐好茶，常泡之而独酌。梧桐好色，常想觅深山野茶一样淡泊宁静而又深不可测的茶样男人泡泡，奈何属于自己的这种山茶早已绝种，可谓是人生一大憾事，于是，只有借得这茶之清香与悠远，独坐于红尘之中，透过茶雾，看红尘中人品茶品男人了    \n","categories":["life"],"tags":["read"]},{"title":"华为 聚会","url":"/2006/10/05/2006/huawei/","content":"初到深圳，一切都在熟悉中！免不了东转转，西溜溜。这样昨天就奔到华为那边和几个同学聚了一下！那边大学的同学有四个！三个本班的！还有一个和自己当时一起做毕设！其中本班中两个是一对！都很熟！熟人见面七分亲！说话没那么多客套！也没那么多顾忌！聊很开心！    \n一起吃饭的时候，敏说前不久开杂志的时候！不小心中了一套家庭影院！昨天刚刚搬到家里！这不是掉大家的胃口么？！饭后在去她家的路上买了两张DVD碟！到敏的住处！才发现敏住的地方蛮不错的！环境也很好！    \n佳佳和我都是门外汉！K歌的时，多是听他们三个女生K了！敏唱的时候有唱有跳的！和平时表现的淑女形象截然相反！以前从来没见过！感觉蛮有意思的！琴和萍还是以前那样！淡淡的！不过她们唱还真的不错！    \n有聊的时候她们有说现在的工作压力很大！就佳佳说还行，就是时间过的很快，没什么感觉就二三歌月过去了！看来还是男的心里承受能力好点！    \n自己也感觉工作有些闲！闲的人有点不安！    \n看来是时候沉淀沉淀了！\n","categories":["life"],"tags":["friend"]},{"title":"故乡的原风景","url":"/2006/09/10/2006/home-landscape/","content":"故乡的原风景-宗次郞很喜欢这首曲子！听的时候心里很平静！有些许遗憾、有些许怀念、有些许忧伤、有些许寻觅，有些许期待、更有些许憧憬！特别喜欢在晚上，一个人在寂静的夜间，站在阳台上，望着这熟悉而又陌生的地方，时时会想起许多令人怀念的事情！高兴的，不高兴的；得意的，失意的；邂逅的，错过的；崎岖的，顺利的……都在这曲子的旋律中回荡！    \n\n生活茶，冲过三边，才尝的出，水的味道！    \n\n给一个网友留言的时候摹下了这首诗，同样题目自己改了！现在感觉很适合现在的心情！留作此刻的记忆！\n","categories":["life"],"tags":["mood"]},{"title":"午夜 不想睡觉","url":"/2006/12/27/2006/mother/","content":"innocent eyesLost Without You\n凌晨0:20，不想睡觉！在网上瞎忽悠！没上QQ，没上MSN，没去逛论坛!    \n最近喜欢一首歌:&lt;&lt;Lost Without You!&gt;&gt;收录在Delta Goodrem的专辑&lt;&gt;(纯真眼眸)!   \n听过一边之后就喜欢了!也许是到最近这段时间才有时间来静静地想一些东西!也许为了离我和妹妹远去的母亲！明日母亲忌日！这首算是对母亲的思念吧！    \n自澳洲的Delta Goodrem,年仅18岁便以单曲《Born To Try》、《Lost Without You》拿下澳洲排行冠军,被传媒誉为下个明日之星..    \n首支单曲《Born To Try》在全英金榜拿下 Top3,第2支抒情单曲《Lost Without You》也来势汹汹大有作为,专辑《Innocent Eyes》网罗到前接招合唱团主唱盖瑞巴洛为其写歌,还有Ric Wake (Celine Dion、Jennifer Lopez、Mariah Carey),Matthew Gerrard （Mandy Moore、BB Mak）,David Nicholas (Elton John)等坚强制作与词曲幕后工作人员，以青春热情、活力纯真的音乐面貌出现.. 《纯真眼眸Innocent Eyes》专辑中的作品,绝大多数听起来就好象是从她日记中撕落的篇幅,她独自或者与人合作谱写出几近所有的曲子,&quot;每首歌都抓住了一段别具深刻意义的回忆”Delta解释道..&quot;企图创造出一张能反映我生命中这段时光的专辑.&quot;首支单曲《Born To Try》蕴含激励人心的歌词及奔放昂扬节奏动感,给予听者深刻的印象,第二支单曲《Lost Without You》是一首醇熟动人的流行歌曲,圆润丰富的作品,传达出这支中版抒情曲其最主要的特色就是Delta那显露出她真实天份的坚定嗓音..   \n前段时间刚刚分到小组时!开小组会的时候分了四个小块让自己来做!当时听了就傻!心想这次要挂了!这是接手的第一个项目!要是这样那还得了!!事事的发展老是出乎人的意料!不过这次我的运气好点!原来以为在要求的两周之内是无法完成的!谁晓得刚过去一周就基本完成了!心里是蛮高兴!   \n小组庆祝新成员加入一起吃饭时（刚刚庆祝我们加入，而我却转到研究所了，呵呵！有时候说不清啊!这顿饭的含义）!喝了平生来最多一次的白酒!当时喝完没什么感觉!不过到晚间就痛苦的相当了!饭桌过后去KTV High! 算是庆贺我们新加入的!同时也提前祝贺圣诞了!K歌的时候场面相当地火热的!组长中的几个让我印象大为转变！许多平时上班很地道的前辈,在此刻都爆发了!呵呵!原来以为他们都比较难接触！从那次之后！感觉就好像是大学里面的同学一样！呵呵！喜欢这种的基调！平静的心后面充满生活热诚！大家都跟着乱走调！谁都不晓得歌词是否一致？！也许直到第二天嗓子全都有些哑的时候！才意识到吧！    \n","categories":["life"],"tags":["memory"]},{"title":"永恒的回忆","url":"/2006/10/09/2006/memory/","content":"Radio of Xi’an musicsome memory\n浏览七色鸟时，瞧见到这张图片！感觉颜色搭配和文字恰似这个季节的深圳！虽未见有落叶飘零如西安那般奚落！但夜幕降临时的秋凉，却时时让人惬意非常!\n西安的秋透着些许寒意！早上起来经常可以看见昨晚被涮下来满地浸湿树叶！印象中最深的是学校从食堂到图书馆那段径直的路，每每进入深秋后，一路的铺地枫叶真如这张图片上的，零零散散，偶尔也可以发现叶角带着晶莹露珠伏在草地上。走在路上，脚下发出沙沙的响声，空气中凉而清爽，树枝尖头的水珠在秋日朝阳下，显得剔透，光线四映。此刻的人也显得格外的神气！每当此时，都不愿再走，而驻留许久！喜欢非常！\n怀念！怀念那时、那地、那景、还有那时的心境……\n","categories":["life"],"tags":["memory"]},{"title":"前几天分部门了！","url":"/2006/08/05/2006/department/","content":"分部门了，自己被分到深圳南山区那块了，没去过，不过听说不错！不过要到九月底！！！比较郁闷的是在这之前都要进行实习，昨天在生产线上插件才完，插的人腰痛！！！！现在真的感受到那些在生产线上的员工的累啊！！！！那可是相当的累啊！！！用的力气不大，就是时间太长，一天早上7：40上班，下午到6：10下班，中间一个半小时的午休，晚上有时要加班一般都是到11：00，“我们的只是跟着下午去玩玩”（那些员工这样形容的）。以后这些日子每个车间都要实习，一般一周，比较郁闷，关键是和自己要做的打不着边，我们的同事开玩笑的说这叫做新车磨和阶段，学校人到社会人的转变过程期待着去深圳哦！！！！！期待日子变好!   \n","categories":["life"],"tags":["work"]},{"title":"蝶紫草的提醒！！","url":"/2006/09/25/2006/notice-of-ziyuecao/","content":" 本来说是要今天就搬去深圳！但是去了公司后，又通知说是到后天，在会议室开完会，杰哥告诉我们今日回家收拾东西！明日再到公司来抽签分房子！心里有些嗑腾！不知道以后离工作的地方远不！要是远的话，就得趟11路了！那可得难为我的这两条腿了！！！呵呵！\n昨天礼拜原先打算是和盼盼他们一起去电子城转转的，顺便给他们买移动硬盘，盼盼的IBM急待升级！他机子硬盘的东西已经不够用了，而我们的国国是搞国内营销的！自己的台式机带走很麻烦，所以也去了，还有一个伙计，闪不上名字了，电玩的，也去了！本来是和他们去溜溜的！不过最后还是没去！\n早上起来的太早了，见宏子在那拖地：“七点钟就大扫除？？！！！”“惯性！惯性！每天早上都这个时间起，拖完了我继续睡………”汗了良久！然后他叫我去他那玩机子，我就找了部《龙虎门》看了起来！他在床上不知道睡着了没，不过我在看的时候，让我把声音调大了两三次…………哎！………………\n电影没看多久，彭发短信说一起去魔兽，我一看表，才八点！！好早啊！感觉这群人是不是都来惯性啊！！在学校的时候估计都没这种惯性！！呵呵！感觉好久没玩了，也很想去，不过也太早了，再说电影刚刚看的起劲！就给他说看完电影再多叫几个人一起去！十点多的时候，叫了盛和小宏，推了车子一起就奔向海逸去了！海逸是这边的一个百货超市，旁边有家网吧，网吧环境一般！没有西安的小蚂蚁好，却倒是还蛮贵！\n魔兽对战自己玩的很烂！不过幸好他们几个也玩的不是怎么样，LostTemp地图，第一把竟然赢了，很是意外！去掉耳机和他们扯淡的时候，发现听见手机响了一下，拿出来一看，原来是明的电话，回了电话才知道叫一起去吃饭！这一看时间才发现时间已经十一点多了！不过兴致正高！他们也说要再来一把！就和他简单几句，说好一会去穆姑娘！穆姑娘的东西还是蛮不错的！经常吃他这边的鱼香茄子饭！味道很好！\n吃完饭，带明来我们浩宇，聊了一下午，明是蛮能说的！和我很对口，天南地北的，什么都能砍！来这边和他也是谈心最多了！到这边感觉能聊的人好少，可能是由于工作了，以前经常聊的来的，现在都很少短信来往了！当然这要除了我们宿舍的老三了！在这向老三敬礼！不知道他看见我的这些话会不会感动一下！！呵呵！！！\n送明回总公司后，和彭，盛，老包，还有老李一起去吃饭，说是为我饯行！！开始说的时候，感动良久，呵呵！本来还有侯的！不过这小子出去陪老婆去了，我们走的时候打电话说回来不了！感叹那个重什么轻什么来者……\n吃饭的地方在我们电话厂和电玩厂中间的那条路上，名曰：东北饺子馆。席上大家都和了些酒！老包的心情不好！大家都在全力安慰他，以前只听过女儿家的心事，现在感受到了男儿家的心事！看来明的工作没作到位，回头批评批评他！！一起吃饭的都是从西安一起来的，虽然现在没在一起上班，但是还是感觉比公司的经常在一起同事要亲近很多！！   \n到今天早上博客的时候看见蝶紫草的留言，感觉真的是好久没写，谢谢提醒先！\n","categories":["life"],"tags":["friend"]},{"title":"礼拜天雨后","url":"/2006/09/03/2006/rain-on-sunday-morning/","content":"今天礼拜！！早上9：00多才起来！没吃到早饭，所以等到11：00的时候就开始在楼道里喊人一起吃饭了……\n刚刚下楼就下雨了，有时候挺讨厌这边的天气的，一点过渡性都没有。来的猛，去的慢……不过，中午的这场大雨叫人心里是感觉倒是爽快了许多！凉快了许多\n大学里面同宿舍的同学过来在我来找工作，去了招聘会两次，未果！心里替他挺着急的！\n刚刚雨停了，宿舍里是凉快了许多，刚才去楼上找人替同事安装网线，现在在同事的本本上作测试！网速一般，不过还可以上Q和浏览网页！！！\n","categories":["life"],"tags":["friend"]},{"title":"拓展","url":"/2006/12/05/2006/outward-bound/","content":"拓展深圳石岩湖\n这张是me被踩了～～    \n石岩湖，旁边偶尔可以看见海鸥！！    \n高空中的跳跃！！！！！相当的有难度！！我们的美女们有几个被吓哭了！        \n晚上的篝火晚会！那叫个热啊！！！腿那叫个痛啊！！！都快抽上了！    \n同事手机拍的一张！呵呵！    \n11.29&amp;11.30两日,去深圳石岩湖度假村搞拓展,一直以来对这些户外的活动是非常热好的!这次当然也不例外!   \n拓展的内容是蛮丰富的!有许多也是很有意思的!中间发生的事情也是令人难以忘怀的!搞笑的、感动的、震撼的、心悸的、疼痛的、喜悦的！    \n中间许多照片可惜现在还没过来，回头贴过来！    \n第一天晚上篝火晚会后，大家一起去泡传说中温泉，那可是相当的温啊！简直都是40度的白开水～～～～～ 流汗 ，不过一起去的美女们都成了热点，象我们当中一个身材超好的女士第二日在她的博客中所述:“晚会后的温泉太差了,…….于是变成了看女生身材的活动，”还在当中提到了“知道了什么是CUP D!!!…………”，呵呵！心思一转原来是指…………呵呵！还是不说了（怪不得和她那晚在泉水边聊的时候，她说的那句话，因为那女去的，所有女的一看其身材，均羡慕不已！呵呵！）说了让她看见我这些，估计下次碰见没什么好果子吃！\n","categories":["life"],"tags":["work"]},{"title":"流行纪念册","url":"/2006/10/17/2006/radio-of-xi-an-music/","content":"一直以来，怀旧似乎是大多数人的一种习惯。怀旧是一张网，试图打捞失去的岁月；怀旧又是一本纪念册，想要记录流逝的时光。\n\n“你以为它消失了，其实它还在，你以为你忘记了，其实你还记得，你以为它是首歌，其实它是青春的纪念 ……”    \n\n其实，怀旧在音乐的世界里早已成为了一种艺术，如同将陈年的老木制作成古朴的根雕，将坍塌的废墟开辟成历史的古迹，就如同在我们年少时候会偶尔将树上落下的黄叶，夹进书里做成一枚美丽的书签……    \n以前经常听西安音乐台的晚间节目，在没有电视也没有网络的大一，大二，每晚23：00宿舍熄灯，就爬到床上打开收音机，听节目，喜欢叶子的声音，听起来很舒服！ 习惯了听着她的声音睡觉！以致于习惯了每天晚上凌晨时分才睡着，直到现在也是.    \n大三的时候买了电脑，晚上基本忘记去听收音机，不过也偶尔打开收音机，听听那熟悉而久违的声音，记得很清楚，《流行纪念册》的一期节目是“金庸武侠情”晚上听完，感觉不过瘾，第二天爬起来，去网上搜这次节目的录音！在论坛里发帖子！终于在论坛里，遇见一个叫潇湘菲子的《流行纪念册》骨灰级人物，从她那找到了那次的录音！放到MP3里连续听了三个晚上！     \n下午听歌的时候，突然一种自然想听节目的冲动，晚上过来网上狂搜一把!结果都是徒劳!反而却找到了从高中都一直想知道的一个节目的地址－－《翩翩情》－－小凡的节目，以前西安音乐台经常转播她的节目！感觉似乎“有心栽花花不成，无心插柳柳成荫”成分在里面!     \n可惜的是，小凡早已离开《翩翩情》。那时《篇篇情》的听众多半是学生，大中学生，它基本上播放流行歌曲，基本是国语流行歌曲。《篇篇情》每天一个专栏，如随想篇、怀旧篇、交友篇、流行篇，故名篇篇情。高中收音机他还是最青睐的节目！直到现在只要一听小凡的声音，心中还能感受到那时的梦！    \n网上搜到小凡的录音！给出连接地址：喜欢的可以下载听一下，还是那句老话了–”记录经典，珍藏回忆”－－经典不老！呵呵！    \n\n2006年2月17日\n2006年2月24日\n2006年3月3日\n2006年3月17日\n2006年3月17日\n\n差不多了……………..   \n","categories":["life"],"tags":["mood"]},{"title":"杂感","url":"/2007/07/02/2007/somefeeling/","content":"不知道为什么现在还是不想睡觉！刚刚在几个熟识的BLOG上面忽悠过后，有些莫名的感触！\n人的感觉真的很有意思！小时候，时间多，爱看电视，而且什么都看，凡是有节目都看，很奇怪那时为什么有那么大兴致！虽然那时对感觉还是很懵懂，但是看多了也就有那么点feeling了！电视里面演的男主角、大多要么武功很高，要么能力很强、要么优柔寡断，并且都是重感情！剧情通常是他是喜欢一个女人，而却因为某种原因不能在一起，而旁边却有几个喜欢他的女人，他却对喜欢的那个女人义无反顾！………………\n类似的看多了，就使人感觉好像只有具备这些特点，才是一个优秀的人！（难道是“鸡尾酒会效应”的结果，MS也不是很贴切），所以在有段时间，感觉好像自己都是在模仿这些角色，以此为标准在衡量自己！现在想起来，挺有意思，毕竟那时没有一个完整的看待身边人，事物的观点和思维方式，对待问题也只是在依照别人的思维，做法来模拟。我想许多人应该都有这个类似的感觉！也许这也是每个人成长的烦恼！\n感觉总是依附于我们说经历的事！（不知道为什么自己总是站在一个总结的角度来看整个问题，比较奇怪！！）\n看到几个blog的语言带有几分忧郁！不知道为什么？！或许因为他们所经历的事情而这样的!也或许因为他们有了这些经历之后而模仿，才这样的！也或许是为了更多…………(说不大清楚)\n","categories":["life"],"tags":["mood"]},{"title":"前段时间玩的时候的一些照片","url":"/2006/09/25/2006/some-picture/","content":"一些游玩图片珠海游\n和小夫的照片！呵呵！可惜没能在玩的时候照到相片！有些可惜！    \n澳门纪念碑，西湾大桥和什么塔不记得了，呵呵！！    \n珠海一个水城蛮好玩的！里面有一个75度的滑水道，那天玩的时候有一个女孩子从上面滑下来，由于姿势不对，在中间翻了个跟头，硬是趴着滑下来了！连上身泳衣被冲飞了，下面很多男的都直眼，之后下面那坨地方围满了“救生员”！    \n珠海十景之一：珠海渔女    \n湾仔澳门街中的一直大海龟！可惜现在只是一个标本！    \n","categories":["life"],"tags":["travel"]},{"title":"不眠夜","url":"/2007/06/02/2007/unsleep-night/","content":"最近工作的事情比较顺利！没什么要说的！前段时间的项目熟悉！直到昨天有了进展，MS是最近能令我们这组人高兴的事情！    新的东西相对来说要投入的还是要多一些，毕竟没有接触过！说心里话，兜的圈子是很大的！要是能有个带头的人，那进展就快多了！！！事事非能如人意！也许这样才能磨出传说中的高手！\n媳妇的妹妹问我以后在那定居，我说要是月薪能拿到10K就呆在这—自己说大话了，说实话心里没底，男人就是这样，没有把握也要装有把握，有时比较鄙视自己，未来不知道的事情，硬是要装的很有信心的样子。幸好命还算好，装出来的信心MS还没有让人失望过！\n晚上宿舍停电，郁闷非常，不知道为什么，这边会出现这种情况，对这里的印象明显变坏！自己在宿舍就好像是蒸了20分钟的馍，涨大了！出来网吧！！！算是好点！\n","categories":["life"],"tags":["mood"]},{"title":"使用 memleak 检查和调试内存泄漏","url":"/2008/11/26/2008/memleak/","content":"memleak使用范围：小型的嵌入式应用中经常会出现许多内存问题，很多情况下难以定位问题出现在哪里。我在 sourceforge上找了些检测 C 内存泄漏的工具，感觉比较易用的是 memleak，下面就来简要介绍一下它的使用。\n用法：下载得到的 memleak 压缩包大小不到 15 kB，解压后只有两个文件：memleak.c 和 memleak.h。在使用过程中只需要包含头文件 memleak.h 就可以使用 memleak 提供的几个易用而有效的内存检测函数了。\nmemleak 的原理是利用 C 语言的宏调用来替代原有的函数调用，比如我们在代码中调用 malloc(s)，实际是调用了：dbg_malloc(s)，这个宏定义在 memleak.h 中给出：    #define malloc(s) (FILE_LINE, dbg_malloc(s))\nmemleak 维护了一个链表，在这个链表中保存着程序中对内存函数调用的记录，这些函数包括：malloc、calloc、realloc、free。每次调用这些函数时，就会更新这个链表。有 了这个表，我们就可以在适当的位置调用 memleak 提供的函数，显示一些重要的信息，包括 malloc、calloc、realloc、free调用的次数，申请及分配的内存数，调用的文件和位置等等，信息非常详细。有了这些功能，我们就很容 易定位内存使用的错误源。\n由于 memleak 在某些交叉编译器下不能正常编译通过，这里我将 memleak.c 中的结构体 struct head 修改如下：\nstruct head\n&#123;\n    struct head *addr;\n    size_t size;\n    char *file;\n    unsigned line;\n    /* two addresses took the same space as an address and an integer on many archs =&gt; usable */\n    union lf &#123;\n        struct &#123; struct head*prev, *next; &#125; list;\n        struct &#123; char *file; unsigned line; &#125; free;\n    &#125; u;\n&#125;;\n\nmemleak.c 文件中其它调用到 head 中共用体 u 的地方也要做相应的修改。修改后的文件可以点击这里下载。    \nmemleak 提供了以下几个函数接口：\nextern void dbg_init(int history_length);\nextern int dbg_check_addr(char *msg, void *ptr, int opt);\nextern void dbg_mem_stat(void);\nextern void dbg_zero_stat(void);\nextern void dbg_abort(char *msg);\nextern void dbg_heap_dump(char *keyword);\nextern void dbg_history_dump(char *keyword);\nextern void dbg_catch_sigsegv(void);\n\n详细的介绍请查看 memleak.c 头部的注释或查看源代码理解。\n下面举个简单的例子：\n#include &quot;memleak.h&quot;\nint main(void)\n&#123;\n    char * s, * t;\n    dbg_init(10);\n    s = (char *)malloc(100);    // 申请 100 bytes\n    t = (char *)malloc(11);     // 再申请 11 bytes\n    free(s);                    // 释放 100 bytes\n    s = (char *)malloc(80);     // 重新申请 80 bytes\n    dbg_heap_dump(&quot;&quot;);          // 显示调用栈\n    dbg_mem_stat();             // 显示调用统计\n    free(t);                    // 释放 11 bytes\n    free(s);                    // 释放 80 bytes\n    dbg_mem_stat();             // 再次显示调用统计\n    return 0;\n&#125;\n\n编辑后保存为 test.c，与 memleak.c 和 memleak.h 放于同一目录下。然后编写一 Makefile：\nCC = gcc\nEXEC = test\nCSRC = test.c memleak.c\nOBJS = $(patsubst %.c,%.o, $(CSRC))\nall: $(EXEC)\n$(EXEC): $(OBJS)\n$(CC) $(OBJS) $(LDFLAGS) $(LDLIBS) -o $@\n$(OBJS): %.o : %.c\n$(CC) $(CFLAGS) -c $&lt; -o $@\nclean:\n-rm -f $(EXEC) *.elf *.gdb *.o\n\n也保存于同一目录，在该目录下 make 编译，执行 .&#x2F;test 后输出如下：\n\\***** test.c:14: heap dump start\n(alloc: test.c:11 size: 11)\n(alloc: test.c:13 size: 80)\n\\***** test.c:14: heap dump end\ntest.c:15: m: 3, c: 0, r: 0, f: 1, mem: 91\ntest.c:18: m: 3, c: 0, r: 0, f: 3, mem: 0\n\n怎么样，很简单吧？\nmemleak 中还有一个函数 dbg_catch_sigsegv(void)，可以绑定系统出现 SIGSEGV 信号时的处理函数，我们可以通过修改 memleak.c 中的 sigsegv_handler，自定义这个 SIGSEGV 信号处理函数。不知道 uClinux 下的 SIGSEGV 信号是否也存在，有的话调试一些内存问题就更容易了。\n最后从网上摘来一段 SIGSEGV 的介绍：\nSIGSEGV --- Segment Fault. The possible cases of your encountering this error are:\n1.buffer overflow --- usually caused by a pointer reference out of range.\n2.stack overflow --- please keep in mind that the default stack size is 8192K.\n3.illegal file access --- file operations are forbidden on our judge system.\n\n","categories":["technology"],"tags":["code"]},{"title":"A place nearby - Lene Marlin","url":"/2008/02/28/2008/a-place-nearby-lene-marlin/","content":"A place nearby - Lene Marlin 天堂若比邻(琳恩．玛莲)\n\n I entered the room.我走进房间。 Sat by Ur bed all through the night.坐在你床边整夜未眠。 I watched Ur daily fight.回望你曾有的坚强 。 I hardly knew.我终于明白。 The pain was almost more than I couldbear.那种疼痛我无法承受。 And still I hear.而今我仍能听到。 Ur last words 2 me.你最后的话语。    \n\n\n Heaven is a place nearby.天堂并不遥远。 So I won’t be so far away.我也不会走远。 And if U try &amp; look 4 me.你若要找我。 Maybe U’ll find me someday.某一天 你终能把我找到。 So there’s no need 2 say goodbye.所以没必要说再见。 I wanna ask U not 2 cry.请别为我哭泣。 I’ll always be by Ur side ! 我将永远守在你身边！    \n\n\n U just faded away.你已慢慢走远。 U spread Ur wings U had flown.展开羽翼飞向天边。 Away 2 something unknown.在冥冥苍穹。 Wish I could bring U back.我好希望能把你找回。 U are always on my mind.你是我的思绪。 About 2 tear myself apart.与我难以割舍。 U have Ur special place in my heart.占有我心中最特殊的角落。    \n\n\n Always heaven is a place nearby.天堂并不遥远！ And even when I go 2 sleep.即使我睡着了 梦中。 I still can hear Ur voice.你的声音依旧。 And those words.话语依然。 I never will forget.我亦从未忘记。    \n\n","categories":["life"],"tags":["mode","music"]},{"title":"ubuntu virtualbox XP 使用adb受限问题","url":"/2012/10/18/2012/vbox-adb/","content":"前提条件:ubuntu 在vbox XP下使用adb shell\n问题说明:C:\\Documents and Settings\\Administrator&gt;adb devices\nList of devices attached\nMSM8225I370 device\n    \nC:\\Documents and Settings\\Administrator&gt;adb shell\nerror: protocol fault (status 72 6f 6f 74?!)\n\n原因在于:virtualbox XP 设置时,USB设备 启用USB2.0 EHCI控制器.如果启用了该选项就会导致adb shell无法启动,偶尔会导致 QTSP中无法烧写model侧img\n","categories":["technology"],"tags":["android"]},{"title":"江畔对话：在城市灯火中寻找精神坐标","url":"/2026/02/12/2026/2026-02-12-chongqing-river-view/","content":"夜幕降临，长江如一条流动的银河蜿蜒穿过山城，两岸的灯火次第亮起,将整座城市装点成一幅立体的光影画卷. 站在观景台上,我与父亲并肩而立,眼前的繁华景象背后,是更深沉的思考.\n\n重庆的独特魅力在于它的”立体性”——建筑不是简单地平铺在大地上,而是沿着山势层层叠叠地向上生长. 远处那些高耸入云的摩天大楼,与近处依山而建的居民楼形成鲜明对比,仿佛在诉说着现代化进程与传统生活的和谐共存. 每一盏灯光背后,都是一个家庭的故事,一段人生的轨迹,一种对美好生活的向往.\n最动人的不是这壮丽的景色,而是身边陪伴的人. 两代人站在同一个观景台,却看到不同的风景:他看到的是改革开放四十年的沧桑巨变,我看到的是数字时代的新机遇. 这种代际视角的交汇,让简单的夜景观赏升华为一场跨越时空的对话.\n长江静静流淌,水面倒映着两岸的灯火,波光粼粼,仿佛一条流动的银河. 游船缓缓驶过,船上的彩灯在江面上划出一道道优美的弧线. 时间在这样的时刻变得格外温柔,城市的喧嚣被江水的宁静所抚平.\n在这个被灯光点亮的夜晚,我忽然明白:真正的繁荣不在于建筑的高度,而在于人心的温度;真正的现代化不在于技术的先进,而在于文化的传承与创新. 当我们学会在快节奏的城市生活中找到这样的静谧时刻,或许就能理解为什么这座城市被称为”魔幻8D”——它不仅挑战着我们的物理空间感知,更重塑着我们的精神世界.\n最好的城市景观,永远是那些能引发思考的风景;最美的时光,永远是那些与重要的人共享的瞬间.\n","categories":["life","thoughts","culture"],"tags":["chongqing","river_view","generational_dialogue","urban_philosophy"]},{"title":"竹影深处，它慢嚼时光","url":"/2026/02/23/2026/2026-02-23-panda-in-bamboo/","content":"时间在它口中化作细碎的竹叶声。没有喧嚣，没有追赶，只有阳光斜穿枝桠，在黑白毛发上投下斑驳的印痕\n\n它用前爪托着竹枝，眼神温润而专注——仿佛这方寸之地，便是整个宇宙的中心. 竹叶微响，风过无声; 它不急于抵达，只安于此刻的咀嚼与呼吸。\n我们总在寻找“诗与远方”，却忘了最深的诗意，往往藏于一只动物对日常的虔诚坚守里。所谓宁静，并非空无一物; 而是心有所寄, 步履从容。\n","categories":["life"],"tags":["chongqing","nature","panda","quiet_moment","ecology"]},{"title":"陪你看灯","url":"/2026/02/13/2026/accompany-you-to-see-the-lights/","content":"重庆的夜晚，总是让人忍不住想与最爱的人分享。\n站在两江交汇处，对岸的洪崖洞灯火璀璨，千厮门大桥如一条光的河流横卧江上。这座城市的魔幻与温柔，在夜色中铺展开来，仿佛童话里的场景。\n\n怀里的小人儿已经有些困了，小脑袋靠在我肩上，却还倔强地睁着眼睛，不肯错过窗外的每一盏灯。我轻声告诉她，那是嘉陵江，那是长江，它们在这里相遇，就像我们此刻相遇在这片夜色里。她似懂非懂地点点头，小手紧紧抓着我的衣角。\n或许很多年后，她会忘记这个夜晚的具体模样，忘记洪崖洞的灯光有多么绚烂。但我希望她能记得，有人曾抱着她，在江边站了很久，只为让她多看一眼这世界的繁华与温柔。\n所谓亲情，不过就是这样——陪你看灯，陪你长大。\n","categories":["life"],"tags":["travel","chongqing","night","family"]},{"title":"archlinux awsome3.5 config","url":"/2013/01/09/2013/awesome-config/","content":"awesome config 3.5由于时间原因,前几天将升级后awesome 3.5回退到3.4.但总感觉不爽,所以昨天终于忍不住又折腾了一下,把所有的控件都整安逸.还是有点点收获.先上张图\n awesome 3.5修正了2个 3.4上一直存在的两个问题\n\nterm不能最大化的bug\n对非焦点窗口透明话支持(之前桌面切换会导致无法获得焦点\n\n自己的配置文件已经上传到github上,有兴趣的同学可以下载来看看.欢迎指正\n链接地址： 点击前往\n","categories":["technology"],"tags":["awesome"]},{"title":"「转」使用 Byzanz 录制 Gif 动画或 Ogv 视频","url":"/2013/04/08/2013/byzanz/","content":"想要录制 Linux 桌面？Byzanz 是一个不错的选择。Byzanz 简单小巧，容易使用，既能录制 Gif 动画，又可录制 Ogv 视频。\n\n安装 Byzanz可执行下列指令来安装 Byzanz，注意需要 root 权限：\naptitude install byzanz # Debian/Ubuntuyum install byzanz # Fedoraemerge -av byzanz # Gentoo/Funtoopacman -S byzanz #Archlinux\n\nArch Linux 用户可在 AUR 中找到 Byzanz。如果你不能在自己所用的 Linux 发行版包仓库中找到 Byzanz，那么可以获取其源代码，自行编译。\nByzanz 用法以本文的 byzanz-demo.gif 为例，你可以通过如下命令来完成录制过程：\nyzanz-record -d 40 -x 0 -y 0 -w 400 -h 320 byzanz-demo.gif\n其中：\n\n-d 40 为录制的时长为 40 秒\n-x 0 录制区域的横坐标\n-y 0 录制区域的纵坐标，记住：屏幕右上角为原点（0,0）\n-w 400 录制区域的宽度\n-h 320 录制区域的高度\nbyzanz-demo.gif 保存的文件名\n\nBTW: Byzanz 还带有一个 GNOME panel applet，感兴趣的同学可自行尝试。\n","categories":["technology"]},{"title":"关于正则表达式","url":"/2013/05/29/2013/regex/","content":"起因正则表达式初次被我重视归咎于百合仙子,当时以为‘他’是美女，当然美女在群里出的题目都大家都相当重视去解决，估计当时有很多兄弟被他忽悠过。不过到现在来看，这种忽悠是值得的，终归最后是拓宽了知识面，同时认识了一群志趣相投的业内人士。\n只所以今天重拾正则这个话题，原因是昨天有同事提到一次面试题，遇到此题。\n题目原文：如何匹配一个数字，范围在（1-65555）不可以使用分组|。\n分析匹配数字，正则对应的元字符是\\d ,单词的开始结束\\b ,这样就有了雏形\n`\\b\\d\\d\\d\\d\\d\\b`\n\n但是此时是配置5位任意数，对于1、2、3、4位数就无法匹配，解决的方法是加入限定符重复零次或一次？,即\n`\\b\\d?\\d?\\d?\\d?\\d?\\b`\n\n这样就可以匹配0-99999的数，要进一步对该值进行限制，就需要加入零宽度断言(?&lt;!exp)最后的结果就是\n`\\b[1-6]?\\d?(?&lt;!6[6-9])\\d?(?&lt;!65[6-9])\\d?(?&lt;!655[6-9])\\d?(?&lt;!6555[6-9])\\b`\n\n结果`\\b[1-6]?\\d?(?&lt;!6[^1-5])\\d?(?&lt;!65[6-9])\\d?(?&lt;!655[6-9])\\d?(?&lt;!6555[6-9])\\b`\n\n这个结果还不是很完美，它包含了0开头的数字, 先做记录，以后再做完整。\n","categories":["technology"]},{"title":"Android keyevent抓图，使用jpeg565对数据压缩","url":"/2013/03/07/2013/jpg565-keyevent/","content":"实现功能使用poll池方法监测event3，event5和对从FB_DEVICE获得的图像数据进行jpeg压缩，压缩图像由之前的2700k缩小为89k，压缩比显而易见（30倍）。\n效果图 \n抓图实现从FB_DEVICE &quot;/dev/graphics/fb0&quot;获得图像的原始数据，色彩数据分为头和rgba数据，在函数jpg_screen_capture里case 16：中我对原始数据进行了处理，将rgba8888的数据转换为rgb565的数据，最后用generateJPEG对数据进行jpeg compress，具体的可以见capture_jpg.c代码\n\n这里要注意的一点是在读取fb_var.xres值必须为2^5&#x3D;16的倍数，不够的要补足，也就是如下代码：\n if((fb_var.xres&amp;0x1F)&#x3D;&#x3D;0)   fb-&gt;w &#x3D; fb_var.xres; else   fb-&gt;w &#x3D;((fb_var.xres&gt;&gt;5)+1)&lt;&lt;5;\n\n\n这样可以避免在抓图时出现像素移位，该问题在fb0的图像像素宽不是16的倍数时出现。\ncapture_jpg.c\n/*=============================================================================\n#     FileName: capture_jpg.c\n#         Desc: capture jgp screenshoot \n#       Author: Lee Meng\n#        Email: leaveboy@gmail.com\n#     HomePage: http://leaveboy.is-programmer.com/\n#      Version: 0.0.1\n#   LastChange: 2013-01-15 09:33:23\n#      History:\n=============================================================================*/\n#include &lt;string.h&gt;  \n#include &lt;stdlib.h&gt;\n\n#include &lt;math.h&gt;  \n#include &lt;stdio.h&gt;  \n#include &lt;unistd.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;fcntl.h&gt;\n#include &lt;linux/fb.h&gt;\n#include &lt;sys/mman.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;errno.h&gt;\n#include &lt;string.h&gt;\n\ntypedef uint8_t BYTE;  \n#define true 1  \n#define false 0  \n\n\n#include &lt;jpeglib.h&gt;\n\n#define FB_DEVICE &quot;/dev/graphics/fb0&quot;\nstatic int g_fd;\n\ntypedef struct\n&#123;\n    int w;    /* width */\n    int h;    /* high */\n    int bpp;  /* bits per pixel */\n    unsigned char *fbmem;\n&#125;screen;\n\n\nstatic int init_fb(screen *fb)\n&#123;\n    if ((g_fd = open(FB_DEVICE, O_RDWR)) &lt; 0)\n    &#123; \n        fprintf(stderr, &quot;Open %s failed:%s\\n&quot;, FB_DEVICE, strerror(errno));\n        return -1; \n    &#125;   \n\n    struct fb_var_screeninfo fb_var;\n    struct fb_fix_screeninfo fb_fix;\n\n    if (ioctl(g_fd, FBIOGET_VSCREENINFO, &amp;fb_var) &lt; 0)\n    &#123; \n        fprintf(stderr, &quot;fb ioctl failed:%s\\n&quot;, strerror(errno));\n        return -1; \n    &#125;   \n    /*\n         if (ioctl(g_fd, FBIOGET_FSCREENINFO, &amp;fb_fix) &lt; 0)\n         &#123; \n         fprintf(stderr, &quot;fb ioctl failed:%s\\n&quot;, strerror(errno));\n         return -1; \n         &#125;   \n         */\n    //fb-&gt;w   = fb_var.xres;\n    if((fb_var.xres&amp;0x1F)==0)\n        fb-&gt;w = fb_var.xres;\n    else\n        fb-&gt;w =((fb_var.xres&gt;&gt;5)+1)&lt;&lt;5;\n    fb-&gt;h   = fb_var.yres;\n    fb-&gt;bpp = fb_var.bits_per_pixel;\n    //\tprintf(&quot;capture_log %d, %d, %d, %d\\n&quot;, fb_var.xres_virtual, fb_var.yres_virtual, fb_var.xoffset, fb_var.yoffset);\n    //\tprintf(&quot;capture_log %d\\n&quot;, fb_fix.line_length);\n#if 1\n    printf(&quot;width:%d\\thigh:%d\\tbpp:%d\\n&quot;,fb-&gt;w, fb-&gt;h, fb-&gt;bpp);\n#endif\n    fb-&gt;fbmem = mmap(0, fb-&gt;w * fb-&gt;h * fb-&gt;bpp /8,PROT_READ | PROT_WRITE, MAP_SHARED, g_fd, 0);\n    if (fb-&gt;fbmem == MAP_FAILED)\n    &#123;\n        fprintf(stderr, &quot;fb mmap failed:%s\\n&quot;, strerror(errno));\n        return -1;\n    &#125;\n\n    close(g_fd);\n    return 0;\n&#125;\n\nint term_fb(screen *fb)\n&#123;\n    munmap(fb-&gt;fbmem, fb-&gt;w * fb-&gt;h * fb-&gt;bpp / 8);\n    return 0;\n&#125;\n\n\nstatic int generateJPEG(BYTE* data,int w, int h, const char* outfilename)  \n&#123;  \n    int nComponent = 3;  \n\n    struct jpeg_compress_struct jcs;  \n\n    struct jpeg_error_mgr jem;  \n\n    jcs.err = jpeg_std_error(&amp;jem);   \n    jpeg_create_compress(&amp;jcs);  \n\n    FILE* f=fopen(outfilename,&quot;wb&quot;);  \n    if (f==NULL)   \n    &#123;  \n        free(data);  \n        return 0;  \n    &#125;  \n    jpeg_stdio_dest(&amp;jcs, f);  \n    jcs.image_width = w;   \n    jcs.image_height = h;  \n    jcs.input_components = nComponent;  \n    if (nComponent==1)  \n        jcs.in_color_space = JCS_GRAYSCALE; \n    else   \n        jcs.in_color_space = JCS_RGB;  \n\n    jpeg_set_defaults(&amp;jcs);      \n    jpeg_set_quality (&amp;jcs, 80, true);  \n\n    jpeg_start_compress(&amp;jcs, TRUE);  \n\n    JSAMPROW row_pointer[1];\n    int row_stride;   \n\n    row_stride = jcs.image_width*nComponent;   \n\n\n    while (jcs.next_scanline &lt; jcs.image_height) &#123;  \n        row_pointer[0] = &amp; data[jcs.next_scanline*row_stride];\n\n        jpeg_write_scanlines(&amp;jcs, row_pointer, 1);  \n    &#125;  \n\n    jpeg_finish_compress(&amp;jcs);  \n    jpeg_destroy_compress(&amp;jcs);  \n    fclose(f);  \n\n    return 1;  \n&#125;  \n\n\n\n//int main(void)\nextern int jpg_screen_capture(char * file_name)\n&#123;  \n    int i = 0, j = 0;\n    int w = 0, h = 0;\n    int ret = 0;\n    unsigned char *p;\n    screen fb_screen;\n\n    init_fb(&amp;fb_screen);\n\n    w = fb_screen.w;\n    h = fb_screen.h;\n\n    p = (unsigned char *)malloc(w * h * 3);\n\n    printf(&quot;0x%x %x %x %x\\n&quot;, *fb_screen.fbmem, *(fb_screen.fbmem + 1), \\\n            *(fb_screen.fbmem + 2), *(fb_screen.fbmem + 3));\n\n    short *cursor = (short*)fb_screen.fbmem;\n    switch(fb_screen.bpp)\n    &#123;\n        case 32:\n            for(i = 0; i &lt; h; i++)\n            &#123;\n                for(j = 0; j &lt; w; j++)\n                &#123;\n                    *(p + (i * w + j) * 3 + 0) = *(fb_screen.fbmem + (i * w + j) * 4 + 0);\n                    *(p + (i * w + j) * 3 + 1) = *(fb_screen.fbmem + (i * w + j) * 4 + 1);\n                    *(p + (i * w + j) * 3 + 2) = *(fb_screen.fbmem + (i * w + j) * 4 + 2);\n                &#125;\n            &#125;\n            break;\n\n        case 16:\n            while(i&lt;w*h)\n            &#123;\n                short pixel = *cursor;     \n                int r = (pixel &amp; 0xF800) &lt;&lt; 8; \n                int g = (pixel &amp; 0x7E0) &lt;&lt; 5;  \n                int b = (pixel &amp; 0x1F) &lt;&lt; 3;\n                int color = 0xFF000000 | r | g | b;\n\n                *(p + 3 * i + 0) = (unsigned char)(color&gt;&gt;16 &amp;0xFF);\n                *(p + 3 * i + 1) = (unsigned char)(color&gt;&gt;8  &amp;0xFF);\n                *(p + 3 * i + 2) = (unsigned char)(color&gt;&gt;0  &amp;0xFF);\n                i++;\n                cursor++;\n            &#125;\n            break;\n\n        default:\n            printf(&quot;not support bpp %d\\n&quot;,fb_screen.bpp);\n            return -1;\n            break;\n    &#125;\n\n    //\tret = generateJPEG(p, fb_screen.w, fb_screen.h, &quot;/data/test/test.jpg&quot;);  \n    ret = generateJPEG(p, fb_screen.w, fb_screen.h, file_name);  \n\n    term_fb(&amp;fb_screen);\t\n    free(p);\n    return ret;\n&#125;\n\n监听keyevent事件这里为了避免单按键对使用造成影响，需同时监听两个keyevent 分别为event3 和 event5，对这两个事件的监听采用了无阻塞方式，在poll池中对两个event进行检测，通过event.code 和 event.value 区别按键（那个按键）动作（按下&#x2F;松开）,最后通过fork_sound()\n/*=============================================================================\n#     FileName: getevent.c\n#         Desc: get events of powerkey and volume + \n#       Author: Lee Meng\n#        Email: leaveboy@gmail.com\n#     HomePage: http://leaveboy.is-programmer.com/\n#      Version: 0.0.1\n#   LastChange: 2013-01-15 09:32:53\n#      History:\n=============================================================================*/\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;fcntl.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;string.h&gt;\n#include &lt;time.h&gt;\n#include &lt;errno.h&gt;\n#include &lt;sys/poll.h&gt;\n#include &lt;linux/input.h&gt;\n\n#define TIME_DELAY   6000 \n#define IN_FILES  2\n#define SAVE_PATH &quot;/data/logs&quot;\n#define SOUND_PATH &quot;system/media/audio/alarms/Alarm_Buzzer.ogg&quot;\n\nstruct timeval tv,tv_event3=&#123;0L, 0L&#125;,tv_event5=&#123;0L, 0L&#125;;\nstatic unsigned char  event3_down = 0x00;//\nstatic unsigned char  event5_down = 0x00;\nstruct input_event event;\n\nstatic void  fork_sound(void)\n&#123;\n  pid_t pid = fork();\n  if (pid == 0) &#123;\n    execl(&quot;/system/bin/stagefright&quot;, &quot;stagefright&quot;, &quot;-o&quot;, &quot;-a&quot;, SOUND_PATH, NULL);\n    /*execl(&quot;/system/bin/busybox&quot;, &quot;busybox&quot;, &quot;tar&quot;, &quot;cvf&quot;, &quot;/mnt/sdcard/logs.tar&quot;,SAVE_PATH, NULL);*/\n    //execl(&quot;/system/bin/busybox&quot;, &quot;busybox&quot;, &quot;bzip&quot;, &quot;-9&quot;, &quot;/mnt/sdcard/logs.tar&quot;,NULL);\n  &#125;\n&#125;\n/*int main(void) &#123;*/\nextern int event_capture_jpg(void) &#123;\n  int pollres;\n  struct pollfd  fds[2];\n  struct tm *p;\n  time_t now;\n  char capture_name[128];\n\n  int i, real_read;\n  printf(&quot;sizeof(struct input_event) = %d\\n&quot;, sizeof(struct input_event));\n  fds[0].fd  = open(&quot;/dev/input/event3&quot;, O_RDONLY|O_NONBLOCK);//volume button\n  fds[1].fd  = open(&quot;/dev/input/event5&quot;, O_RDONLY|O_NONBLOCK);//power button\n\n  for (i = 0; i&lt;IN_FILES; i++)&#123;\n    if ( fds[i].fd &lt; 0 ) return -1;\n    fds[i].events = POLLIN;\n  &#125;\n  while(1)&#123;\n    pollres = poll(fds,IN_FILES,TIME_DELAY);\n    for (i = 0; i&lt; IN_FILES; i++)&#123;\n      if (fds[i].revents)&#123;\n        real_read = read(fds[i].fd, &amp;event, sizeof(event));\n        if(real_read &lt; (int)sizeof(event)) &#123;\n          fprintf(stderr, &quot;could not get event\\n&quot;);\n          break;\n        &#125;\n        time(&amp;now);\n        p = localtime(&amp;now);\n        sprintf(capture_name,&quot;%s/%d-%d-%d_%d-%d-%d.jpg&quot;,\n            SAVE_PATH,\n            1900+p-&gt;tm_year, 1+p-&gt;tm_mon, p-&gt;tm_mday, \n            p-&gt;tm_hour, p-&gt;tm_min, p-&gt;tm_sec);\n        printf(&quot;%d %u %u %u\\n&quot;, i, event.type, event.code, event.value);\n\n        if (i == 0x01 &amp;&amp; event.type == 0x01 &amp;&amp; event.code == 0x6B &amp;&amp; event.value == 0x00)\n          event5_down = 0x00;\n\n        if (i == 0x00 &amp;&amp; event.type == 0x01 &amp;&amp; event.code == 0x73 &amp;&amp; event.value == 0x00)\n          event3_down = 0x00;\n\n        if (i == 0x01 &amp;&amp; event.type == 0x01 &amp;&amp; event.code == 0x6B &amp;&amp; event.value == 0x01)\n        &#123;\n          event5_down = 0x01;\n          if(event3_down&amp;event5_down)\n          &#123;\n            jpg_screen_capture(capture_name);\n            fork_sound();\n            printf(&quot;Lee Meng capture jpg:%s\\n&quot;,capture_name);\n          &#125;\n        &#125;\n\n        if (i == 0x00 &amp;&amp; event.type == 0x01 &amp;&amp; event.code == 0x73 &amp;&amp; event.value == 0x01)\n        &#123;\n          event3_down = 0x01;\n          if(event3_down&amp;event5_down)\n          &#123;\n            printf(&quot;Lee Meng capture jpg:%s\\n&quot;,capture_name);\n            jpg_screen_capture(capture_name);\n            fork_sound();\n          &#125;\n        &#125;\n\n      &#125; \n    &#125;\n    //no sleep\n  &#125;\n\n  for(i=0;i&lt;2;i++)&#123;\n    if(fds[i].fd &gt; 0)&#123;\n      close(fds[i].fd);\n      fds[i].fd = -1;\n    &#125;\t\n  &#125;\n  return 0;\n&#125;\n\nmain函数及Android.mkmain.c\n#include &lt;stdio.h&gt;\n\n\nint main(void)\n&#123;\n  while(1)\n  event_capture_jpg();\n&#125;\n\nAndroid.mk\nLOCAL_PATH := $(my-dir)\n\ncommonSources  :=\n\ncommonIncludes := $(TARGET_OUT_HEADERS)/common/inc\n\ncommonSharedLibraries :=  liboncrpc\ncommonSharedLibraries +=  libnv\ncommonSharedLibraries +=  libcutils libxml2 libicuuc\ncommonSharedLibraries +=  libutils\ncommonSharedLibraries +=  libjpeg libc\n\n\ninclude $(CLEAR_VARS)\nLOCAL_MODULE := qlogd\nLOCAL_CFLAGS := $(commonCflags)\n\nLOCAL_C_INCLUDES := $(call include-path-for, system-core)/cutils\nLOCAL_C_INCLUDES += $(commonIncludes)\nLOCAL_C_INCLUDES += $(LOCAL_PATH)\nLOCAL_C_INCLUDES += external/jpeg\nLOCAL_SRC_FILES := main.c getevent.c capture_jpg.c\nLOCAL_MODULE_TAGS := optional eng\nLOCAL_SHARED_LIBRARIES += $(commonSharedLibraries) \nLOCAL_MODULE_PATH := $(TARGET_OUT_OPTIONAL_EXECUTABLES)\ninclude $(BUILD_EXECUTABLE)\n\n这四个文件放到Android工程下面vendor/qlogd目录下，mmm编译之后就可以在/system/xbin/找到qlogd，将qlogd push到手机上相应的目录&#x2F;system&#x2F;xbin&#x2F;，添加可以执行权限\n\nchmod 777 qlogd\n\n然后运行\n\n&#x2F;system&#x2F;xbin&#x2F;qlogd&amp;\n\n按下power键和音量-键,就可以听到Bi Bi Bi的提示音了。\n","categories":["technology"],"tags":["Android","jpeglib"]},{"title":"如何带路径复制文件","url":"/2013/02/19/2013/copy-files-with-dir/","content":"背景前段时间在做代码合并的时候，不得不采取手工merge，由于涉及的文件很多，单个beyondcmp着实抗不住，就想着用命令一次性搞定。\n分析beyondcmp多文件比较需要路径一致，因此如果要做这样的修改，就需要将目前修改的文件放到对应的目录下。\n思路起初的想法是先截取每个文件所在的目录全路径，然后通过cp的方式复制过去，但这样感觉太过复杂，可能还需要写一个小脚本，有点过了。最后就想到之前用tar的带路径压缩解压，至于参数列表可以通过xargs的-I参数来解决，这样就可以解决文件路径创建的问题。\n做法使用git diff --name-only可以将当前仓库做的修改文件列出来使用tar cvf将文件带路径压缩最终的命令就是\ngit diff --name-only | xargs -I @ tar cvf 11.tar  @\n\n或者\ngit status --short | awk &#39;&#123;print $2&#125;&#39; | xargs -I @ tar cvf 11.tar  @ \n\n前者只列出修改的文件，后者包含了新加的文件–未添加到仓库中使用tar xvf将11.tar文件带路径解压 仓库外的新目录，然后与另一个仓库进行目录比较，最后在beyondcmp中做手工merge\n后记其实这种操作本来可以避免，但是目前由于android的版本太多，多文件比对操作无法避免，上面的做法，简单明了，能很快的将修改文件列出比较，相对与文件逐一寻找比对要方便，时间上也节省不少。\n","categories":["technology"],"tags":["command"]},{"title":"关于mutt发送中文附件，foxmail，outlook接受不到的问题","url":"/2011/04/15/2011/attachment-of-mutt-display/","content":"经常在linux下工作，所有日常事务也是在linux处理，邮件处理自然也不例外，我这里环境是arch+mutt。带英文附件名的邮件使用mutt发送没有一点问题，中文附件名的邮件就悲剧了，附件在foxmail中不被识别，在outlook和DreamMail里是被篡改的名字类似“xxxxxx.MSWORD”,当然你强制用word打开还是没有问题的，但是始终是不爽！所以今天折腾了半天这个问题！google了n多帖子，都基本是说设置\nset rfc2047_parameters=yes\n\n但是经过测试，这个只能使本地接收到的附件显示为中文附件名！要使自己发送的中文附件名在win下的客户端显示正常，这个不得行！   \n又google了n多帖子，就出现了最终的解决方法：\nset create_rfc2047_parameters=yes\n\n该设置需要在mutt源码中打patch，named patch-1.5.10.tt.create_rfc2047_params.1 点击下载再到mutt主页上下在最近的mutt包 named mutt-1.5.21.tar.gz猛击下载解压mutt-1.5.21.tar.gz和patch，解压出的patch放到mutt-1.5.21目录下，在该目录执行\npatch -Np1 -i patch-1.5.10.tt.create_rfc2047_params.1\n\n接着再执行\n./configure &amp;make &amp;sudo make install\n\n接个就用吧！mutt发送中文附件邮件，在foxmail中显示就ok了！\nPS：这里要说一点，在ubuntu下，发送中文附件是没问题，但是用mutt中中文是乱码！这个可能与系统设置有关系，暂时没有处理！\n","categories":["technology"],"tags":["mutt"]},{"title":"awesome 脚本中加入天气","url":"/2011/03/25/2011/awesome-rc-config-for-google-weather/","content":"将这几天做的lua脚本和入到awesome脚本中。目前缺点：可以获取天气信息，不过天气是文字形式的！\n相关函数   \n------------------------regex-------------------------\nfunction get_weather(con)\n    local s = &quot;&lt;current_conditions&gt;.*&lt;\\/forecast_conditions&gt;&quot;\n    local i ,j = string.sub(con, string.find(con,s))\n    local s = &quot;\\&quot;[a-z0-9A-Z%s:%%]*\\&quot;&quot; \n    local info\n    for word in string.gmatch(i, s) do\n            info = tostring(info)..&quot;\\t&quot;..tostring(word) \n    end\n    local i, j = string.gsub(info, &quot;\\&quot;&quot;,&quot;&quot;)\n    local l = split(i,&quot;\\t&quot;)\n    return l\nend\n \n------------------------split-------------------------\nfunction split(string, spt)\n    local find_index = 1\n    local spt_index = 1\n    local spt_arr = &#123;&#125;\n    while true do\n        local find_end = string.find(string, spt, find_index)\n        if not find_end then\n            spt_arr[spt_index] = string.sub(string, find_index, string.len(string))\n            break\n        end\n        spt_arr[spt_index] = string.sub(string, find_index, find_end - 1)\n        find_index = find_end + string.len(spt)\n        spt_index = spt_index + 1\n    end\n    return spt_arr\nend\n\n添加控件widget    \nweather = widget(&#123;type = &quot;textbox&quot; &#125;)\nvicious.register(weather, vicious.widgets.weather,\n function (widget, args)\n    local http = require(&quot;socket.http&quot;)\n    local url = &quot;http://www.google.com/ig/api?weather=chengdu&quot;\n    local con, ret = http.request(url)\n    if con == nil then\n        return nil\n    else\n        local l =   get_weather(con)\n        return &#39;&lt;span color=&quot;brown&quot;&gt;WEATHER:&lt;/span&gt;&lt;span  color=&quot;orange&quot;&gt;&#39;..l[2]..&#39; &#39;..l[4]..&#39;°C&lt;/span&gt;&#39;\n    end\n end\n, 3600,&quot;ZUUU&quot;)\n\n添加到盘pannel    \nmywibox_top[s].widgets = &#123;\n       &#123;\n           mylauncher,\n           mytaglist[s],\n           mypromptbox[s],\n           layout = awful.widget.layout.horizontal.leftright\n       &#125;,\n       mylayoutbox[s],\n       mytextclock,\n       s == 1 and mysystray or nil,\n               spacer,\n               uptime,\n                   weather,\n               spacer,\n               weathericon,\n       mytasklist[s],\n       layout = awful.widget.layout.horizontal.rightleft\n   &#125;\n\n","categories":["technology"],"tags":["awesome"]},{"title":"在AWESOME上加入天气使用googleAPI字体weather.ttf","url":"/2011/03/26/2011/add-weather-fonts-to-awesome-desktop/","content":"awesome rc.lua这个脚本加入了词霸的屏幕取词，绑定PrtSc键抓图，还有天气显示！解决了前两天一直琢磨的字体天气问题！上张现在桌面图：\n\nawesome 的配置文件 rc.lua\n-- Standard awesome library\nrequire(&quot;awful&quot;)\nrequire(&quot;awful.autofocus&quot;)\nrequire(&quot;awful.rules&quot;)\n-- Theme handling library\nrequire(&quot;beautiful&quot;)\nrequire(&quot;vicious&quot;)\n-- Notification library\nrequire(&quot;naughty&quot;)\n \n-- Load Debian menu entries\nrequire(&quot;debian.menu&quot;)\n \n-- --- Variable definitions\n-- Themes define colours, icons, and wallpapers\nbeautiful.init(&quot;/usr/share/awesome/themes/default/theme.lua&quot;)\n \n-- This is used later as the default terminal and editor to run.\nterminal = &quot;x-terminal-emulator&quot;\neditor = os.getenv(&quot;EDITOR&quot;) or &quot;editor&quot;\neditor_cmd = terminal .. &quot; -e &quot; .. editor\n \n-- Default modkey.\n-- Usually, Mod4 is the key with a logo between Control and Alt.\n-- If you do not like this or do not have such a key,\n-- I suggest you to remap Mod4 to another key using xmodmap or other tools.\n-- However, you can use another modifier like Mod1, but it may interact with others.\nmodkey = &quot;Mod4&quot;\n \n-- Table of layouts to cover with awful.layout.inc, order matters.\nlayouts =\n&#123;\n    awful.layout.suit.floating,\n    awful.layout.suit.tile,\n    awful.layout.suit.tile.left,\n    awful.layout.suit.tile.bottom,\n    awful.layout.suit.tile.top,\n    awful.layout.suit.fair,\n    awful.layout.suit.fair.horizontal,\n    awful.layout.suit.spiral,\n    awful.layout.suit.spiral.dwindle,\n    awful.layout.suit.max,\n    awful.layout.suit.max.fullscreen,\n    awful.layout.suit.magnifier\n&#125;\n-- ___\n \n-- --- Tags\n-- Define a tag table which hold all screen tags.\ntags = &#123;&#125;\nfor s = 1, screen.count() do\n    -- Each screen has its own tag table.\n    tags[s] = awful.tag(&#123; 1, 2, 3, 4, 5, 6, 7, 8, 9 &#125;, s, layouts[1])\nend\n-- ___\n \n-- --- Menu\n-- Create a laucher widget and a main menu\nmyawesomemenu = &#123;\n   &#123; &quot;manual&quot;, terminal .. &quot; -e man awesome&quot; &#125;,\n   &#123; &quot;edit config&quot;, editor_cmd .. &quot; &quot; .. awful.util.getdir(&quot;config&quot;) .. &quot;/rc.lua&quot; &#125;,\n   &#123; &quot;restart&quot;, awesome.restart &#125;,\n   &#123; &quot;quit&quot;, awesome.quit &#125;\n&#125;\n \nmymainmenu = awful.menu(&#123; items = &#123; &#123; &quot;awesome&quot;, myawesomemenu, beautiful.awesome_icon &#125;,\n                                    &#123; &quot;Debian&quot;, debian.menu.Debian_menu.Debian &#125;,\n                                    &#123; &quot;open terminal&quot;, terminal &#125;\n                                  &#125;\n                        &#125;)\n \nmylauncher = awful.widget.launcher(&#123; image = image(beautiful.awesome_icon),\n                                     menu = mymainmenu &#125;)\n-- ___\n \n-- --- Wibox\n-- Create a textclock widget\nmytextclock = awful.widget.textclock(&#123; align = &quot;right&quot; &#125;,&quot;%x %R&quot;,61)\n-------------------------------------leave--------------------------\n--Spacer\nspacer    = widget(&#123; type = &quot;textbox&quot; &#125;)\nseparator = widget(&#123; type = &quot;textbox&quot; &#125;)\nspacer.text     = &quot; &quot;\nseparator.text  = &quot;|&quot;\n--Cpu text\ncpu = widget(&#123; type = &quot;textbox&quot; &#125;)\nvicious.register(cpu, vicious.widgets.cpu, &#39; &lt;span color=&quot;brown&quot;&gt;CPU1:&lt;/span&gt; &lt;span color=&quot;orange&quot;&gt;$2%&lt;/span&gt; &lt;span color=&quot;brown&quot;&gt;CPU2:&lt;/span&gt; &lt;span color=&quot;orange&quot;&gt;$3%&lt;/span&gt;&#39;, 1)\n--Cpu wigth\ncpu_g1 = awful.widget.graph()\ncpu_g1:set_width(50)\ncpu_g1:set_background_color(&quot;#333333&quot;)\ncpu_g1:set_color(&quot;#AEC6D8&quot;)\ncpu_g1:set_border_color(&quot;#0a0a0a&quot;)\nvicious.register(cpu_g1, vicious.widgets.cpu, &quot;$2&quot;, 1)\n  \ncpu_g2 = awful.widget.graph()\ncpu_g2:set_width(50)\ncpu_g2:set_background_color(&quot;#333333&quot;)\ncpu_g2:set_color(&quot;#AEC6D8&quot;)\ncpu_g2:set_border_color(&quot;#0a0a0a&quot;)\nvicious.register(cpu_g2, vicious.widgets.cpu, &quot;$3&quot;, 1)\n--MPD\nmpd = widget(&#123; type = &quot;textbox&quot; &#125;)\nvicious.register(mpd, vicious.widgets.mpd,\n    function (widget, args)\n            local ret_str = &#39; &lt;span color=&quot;brown&quot;&gt;NOW Playing:&lt;/span&gt;&#39;\n        if args[&quot;&#123;state&#125;&quot;] == &quot;Stop&quot; then\n            return ret_str .. &#39; &lt;span color=&quot;orange&quot;&gt; - &lt;/span&gt;&#39;\n        else\n            return ret_str .. &#39; &lt;span color=&quot;orange&quot;&gt;&#39;.. args[&quot;&#123;Artist&#125;&quot;]..&#39; - &#39;.. args[&quot;&#123;Title&#125;&quot;]..&#39;&lt;/span&gt;&#39;\n        end\n    end, 3)\n--Weather\n------------------------regex-------------------------\nfunction get_weather(con)\n    local s = &quot;&lt;current_conditions&gt;.*&lt;\\/forecast_conditions&gt;&quot;\n    local i ,j = string.sub(con, string.find(con,s))\n    local s = &quot;\\&quot;[a-z0-9A-Z%s:%%]*\\&quot;&quot; \n    local info\n    for word in string.gmatch(i, s) do\n            info = tostring(info)..&quot;\\t&quot;..tostring(word) \n    end\n    local i, j = string.gsub(info, &quot;\\&quot;&quot;,&quot;&quot;)\n    local l = split(i,&quot;\\t&quot;)\n    return l\nend\n \n------------------------split-------------------------\nfunction split(string, spt)\n    local find_index = 1\n    local spt_index = 1\n    local spt_arr = &#123;&#125;\n    while true do\n        local find_end = string.find(string, spt, find_index)\n        if not find_end then\n            spt_arr[spt_index] = string.sub(string, find_index, string.len(string))\n            break\n        end\n        spt_arr[spt_index] = string.sub(string, find_index, find_end - 1)\n        find_index = find_end + string.len(spt)\n        spt_index = spt_index + 1\n    end\n    return spt_arr\nend\n \n------------------------main-------------------------\nweathericon = widget(&#123; type = &quot;imagebox&quot; &#125;)\nweathericon.image = image(beautiful.widget_cloud)\nweather = widget(&#123;type = &quot;textbox&quot; &#125;)\nvicious.register(weather, vicious.widgets.weather,\n function (widget, args)\n    local http = require(&quot;socket.http&quot;)\n    local night = &#123;[&quot;e&quot;]=&#39;o&#39;,[&quot;f&quot;]=&#39;p&#39;,[&quot;v&quot;]=&#39;v&#39;,[&quot;j&quot;]=&#39;t&#39;,[&quot;k&quot;]=&#39;u&#39;,[&quot;h&quot;]=&#39;r&#39;,[&quot;g&quot;]=&#39;q&#39;,[&quot;c&quot;]=&#39;m&#39;,[&quot;b&quot;]=&#39;l&#39;,[&quot;d&quot;]=&#39;n&#39;,[&quot;a&quot;]=&#39;a&#39;,[&quot;N&quot;]=&#39;N&#39;,[&quot;w&quot;]=&#39;w&#39;&#125;\n    local weather = &#123;[&quot;Sandstorm&quot;]=&#39;e&#39;,[&quot;Duststorm&quot;]=&#39;e&#39;,[&quot;Sand&quot;]=&#39;e&#39;,[&quot;Dust&quot;]=&#39;e&#39;,[&quot;Fog&quot;]=&#39;e&#39;,[&quot;Mist&quot;]=&#39;e&#39;,[&quot;Smoke&quot;]=&#39;e&#39;,[&quot;Haze&quot;]=&#39;e&#39;,[&quot;Overcast&quot;]=&#39;e&#39;,--&#39;e o&#39; 9th 阴霾\n    [&quot;Thunderstorms&quot;]=&#39;f&#39;,[&quot;Thundershowers&quot;]=&#39;f&#39;,[&quot;Storm&quot;]=&#39;f&#39;,[&quot;Lightning&quot;]=&#39;f&#39;,--&#39;f p&#39; 13th 闪电\n    [&quot;Hail&quot;]=&#39;v&#39;,--&#39;v&#39; 14th 冰雹\n    [&quot;Blowing Snow&quot;]=&#39;j&#39;,[&quot;Blizzard&quot;]=&#39;j&#39;,[&quot;Snowdrift&quot;]=&#39;j&#39;,[&quot;Snowstorm&quot;]=&#39;j&#39;,[&quot;Snow&quot;]=&#39;j&#39;,[&quot;Heavy Snow&quot;]=&#39;j&#39;,[&quot;Snowfall&quot;]=&#39;j&#39;, --&#39;j t&#39; 21th 大雪\n    [&quot;Snow Showers&quot;]=&#39;k&#39;,[&quot;Flurries&quot;]=&#39;k&#39;,[&quot;Light Snow&quot;]=&#39;k&#39;,[&quot;Sleet&quot;]=&#39;k&#39;,--&#39;k u&#39; 25th 小雪\n    [&quot;Showers&quot;]=&#39;h&#39;,[&quot;Heavy Showers&quot;]=&#39;h&#39;,[&quot;Rainshower&quot;]=&#39;h&#39;,[&quot;Rain&quot;]=&#39;h&#39;,--&#39;h r&#39; 29th 大雨\n    [&quot;Occasional Showers&quot;]=&#39;g&#39;,[&quot;Scattered Showers&quot;]=&#39;g&#39;,[&quot;Isolated Showers&quot;]=&#39;g&#39;,[&quot;Light Showers&quot;]=&#39;g&#39;,[&quot;Freezing Rain&quot;]=&#39;g&#39;,[&quot;Drizzle&quot;]=&#39;g&#39;,[&quot;Light Rain&quot;]=&#39;g&#39;,--&#39;g q&#39; 36th 小雨\n    [&quot;Sunny Interval&quot;]=&#39;c&#39;,[&quot;No Rain&quot;]=&#39;c&#39;,[&quot;Clearing&quot;]=&#39;c&#39;,--&#39;c m&#39; 39th 多云见晴\n    [&quot;Sunny Period&quot;]=&#39;b&#39;,[&quot;Partly Cloudy&quot;]=&#39;b&#39;,[&quot;Partly Bright&quot;]=&#39;b&#39;,[&quot;Mild&quot;]=&#39;b&#39;,--&#39;b l&#39; 43th 晴见多云\n    [&quot;Cloudy&quot;]=&#39;d&#39;,[&quot;Mostly Cloudy&quot;]=&#39;d&#39;,--&#39;d, n&#39; 45th 多云\n    [&quot;Bright&quot;]=&#39;a&#39;,[&quot;Sunny&quot;]=&#39;a&#39;,[&quot;Fair&quot;]=&#39;a&#39;, --&#39;a&#39; 48th 白天晴天\n    [&quot;Fine&quot;]=&#39;N&#39;,[&quot;Clear&quot;]=&#39;N&#39;,--&#39;N&#39; 50th 晚间晴天\n    [&quot;Windy&quot;]=&#39;w&#39;,[&quot;Squall&quot;]=&#39;w&#39;,[&quot;Stormy&quot;]=&#39;w&#39;,[&quot;Chill&quot;]=&#39;w&#39;,[&quot;Gale&quot;]=&#39;w&#39;--&#39;w&#39; 55th 风\n&#125;\n    local url = &quot;http://www.google.com/ig/api?weather=chengdu&quot;\n    local con, ret = http.request(url)\n    if con == nil then\n        return nil\n    else\n        local l =   get_weather(con)\n        local font_weather = weather[l[2]]\n--[[        if os.date(&quot;%H&quot;,os.time())&gt;&quot;17&quot; then\n            font_weather = night[font_weather]\n        end\n        --]]\n        local temp_c = &#39;y&#39;\n        if l[4] &gt; &quot;28&quot; then\n            temp_c = &#39;z&#39;\n        elseif l[4] &lt; &quot;15&quot; then\n            temp_c = &#39;x&#39;\n        end\n        return &#39;&lt;span font=&quot;Weather regular 16&quot; color=&quot;#FFFF00&quot;&gt;&#39;..font_weather..&#39;&lt;/span&gt;&lt;span color=&quot;orange&quot;&gt; &#39;..l[4]..&#39;°C&lt;/span&gt;&#39;\n    end\n end\n \n--&quot;$&#123;sky&#125; $&#123;tempc&#125; °C&quot;\n, 1800,&quot;ZUUU&quot;)\n \n--UPTIME\nuptime = widget(&#123; type = &quot;textbox&quot; &#125;)\nvicious.register(uptime, vicious.widgets.uptime,&#39; &lt;span color=&quot;brown&quot;&gt;UPTIME:&lt;/span&gt; &lt;span color=&quot;orange&quot;&gt;$2:$3&lt;/span&gt;&#39;, 61)\n--MEM\nmem = widget(&#123; type = &quot;textbox&quot; &#125;)\nvicious.register(mem, vicious.widgets.mem, &#39; &lt;span color=&quot;brown&quot;&gt;MEM:&lt;/span&gt; &lt;span color=&quot;orange&quot;&gt;$1% $2MB&lt;/span&gt; &lt;span color=&quot;brown&quot;&gt;SWAP:&lt;/span&gt; &lt;span color=&quot;orange&quot;&gt;$5% $6MB&lt;/span&gt;&#39;, 1)\n--FS\nfs = widget(&#123; type = &quot;textbox&quot; &#125;)\nvicious.register(fs, vicious.widgets.fs, &#39; &lt;span color=&quot;brown&quot;&gt;FS:&lt;/span&gt; &lt;span color=&quot;orange&quot;&gt;$&#123;/ used_gb&#125;GB $&#123;/ used_p&#125;%&lt;/span&gt;&#39;, 5)\n--DIO\ndio = widget(&#123; type = &quot;textbox&quot; &#125;)\nvicious.register(dio, vicious.widgets.dio, &#39; &lt;span color=&quot;brown&quot;&gt;IO:&lt;/span&gt; &lt;span color=&quot;orange&quot;&gt;R:$&#123;read_kb&#125;KB W:$&#123;write_kb&#125;KB&lt;/span&gt;&#39;, 1, &quot;sda&quot;)\n--NET\nnet = widget(&#123; type = &quot;textbox&quot; &#125;)\nvicious.register(net, vicious.widgets.net, &#39; &lt;span color=&quot;brown&quot;&gt;NET:&lt;/span&gt; &lt;span color=&quot;orange&quot;&gt;$&#123;eth0 down_kb&#125;KB/$&#123;eth0 up_kb&#125;KB&lt;/span&gt;&#39;, 1)\n-------------------------------------leave--------------------------\n-- Create a systray\nmysystray = widget(&#123; type = &quot;systray&quot; &#125;)\n \n-- Create a wibox for each screen and add it\nmywibox_top = &#123;&#125;\nmywibox_bottom = &#123;&#125;\nmypromptbox = &#123;&#125;\nmylayoutbox = &#123;&#125;\nmytaglist = &#123;&#125;\nmytaglist.buttons = awful.util.table.join(\n                    awful.button(&#123; &#125;, 1, awful.tag.viewonly),\n                    awful.button(&#123; modkey &#125;, 1, awful.client.movetotag),\n                    awful.button(&#123; &#125;, 3, awful.tag.viewtoggle),\n                    awful.button(&#123; modkey &#125;, 3, awful.client.toggletag),\n                    awful.button(&#123; &#125;, 4, awful.tag.viewnext),\n                    awful.button(&#123; &#125;, 5, awful.tag.viewprev)\n                    )\nmytasklist = &#123;&#125;\nmytasklist.buttons = awful.util.table.join(\n                     awful.button(&#123; &#125;, 1, function (c)\n                                              if not c:isvisible() then\n                                                  awful.tag.viewonly(c:tags()[1])\n                                              end\n                                              client.focus = c\n                                              c:raise()\n                                          end),\n                     awful.button(&#123; &#125;, 3, function ()\n                                              if instance then\n                                                  instance:hide()\n                                                  instance = nil\n                                              else\n                                                  instance = awful.menu.clients(&#123; width=250 &#125;)\n                                              end\n                                          end),\n                     awful.button(&#123; &#125;, 4, function ()\n                                              awful.client.focus.byidx(1)\n                                              if client.focus then client.focus:raise() end\n                                          end),\n                     awful.button(&#123; &#125;, 5, function ()\n                                              awful.client.focus.byidx(-1)\n                                              if client.focus then client.focus:raise() end\n                                          end))\n \nfor s = 1, screen.count() do\n    -- Create a promptbox for each screen\n    mypromptbox[s] = awful.widget.prompt(&#123; layout = awful.widget.layout.horizontal.leftright &#125;)\n    -- Create an imagebox widget which will contains an icon indicating which layout we&#39;re using.\n    -- We need one layoutbox per screen.\n    mylayoutbox[s] = awful.widget.layoutbox(s)\n    mylayoutbox[s]:buttons(awful.util.table.join(\n                           awful.button(&#123; &#125;, 1, function () awful.layout.inc(layouts, 1) end),\n                           awful.button(&#123; &#125;, 3, function () awful.layout.inc(layouts, -1) end),\n                           awful.button(&#123; &#125;, 4, function () awful.layout.inc(layouts, 1) end),\n                           awful.button(&#123; &#125;, 5, function () awful.layout.inc(layouts, -1) end)))\n    -- Create a taglist widget\n    mytaglist[s] = awful.widget.taglist(s, awful.widget.taglist.label.all, mytaglist.buttons)\n \n    -- Create a tasklist widget\n    mytasklist[s] = awful.widget.tasklist(function(c)\n                                              return awful.widget.tasklist.label.currenttags(c, s)\n                                          end, mytasklist.buttons)\n \n    -- Create the wibox\n    mywibox_top[s] = awful.wibox(&#123; position = &quot;top&quot;, screen = s &#125;)\n    mywibox_bottom[s] = awful.wibox(&#123; position = &quot;bottom&quot;, screen = s &#125;)\n    -- Add widgets to the wibox - order matters\n        -- top\n         mywibox_top[s].widgets = &#123;\n        &#123;\n            mylauncher,\n            mytaglist[s],\n            mypromptbox[s],\n            layout = awful.widget.layout.horizontal.leftright\n        &#125;,\n        mylayoutbox[s],\n        mytextclock,\n        s == 1 and mysystray or nil,\n                spacer,\n                uptime,\n            weather,\n                spacer,\n                weathericon,\n        mytasklist[s],\n        layout = awful.widget.layout.horizontal.rightleft\n    &#125;\n        --bottom\n    mywibox_bottom[s].widgets = &#123;\n            &#123;\n                fs,\n                separator,\n                mem,\n                separator,\n                dio,\n                separator,\n                net,\n                separator,\n                mpd,\n                layout = awful.widget.layout.horizontal.leftright\n            &#125;,\n                cpu_g1.widget,\n                spacer,\n                cpu_g2.widget,\n                spacer,\n        layout = awful.widget.layout.horizontal.rightleft\n    &#125;\nend\n-- ___\n \n-- --- Mouse bindings\nroot.buttons(awful.util.table.join(\n    awful.button(&#123; &#125;, 3, function () mymainmenu:toggle() end),\n    awful.button(&#123; &#125;, 4, awful.tag.viewnext),\n    awful.button(&#123; &#125;, 5, awful.tag.viewprev)\n))\n-- ___\n \n-- --- Key bindings\nglobalkeys = awful.util.table.join(\n    awful.key(&#123; modkey,           &#125;, &quot;Left&quot;,   awful.tag.viewprev       ),\n    awful.key(&#123; modkey,           &#125;, &quot;Right&quot;,  awful.tag.viewnext       ),\n    awful.key(&#123; modkey,           &#125;, &quot;Escape&quot;, awful.tag.history.restore),\n \n    awful.key(&#123; modkey,           &#125;, &quot;j&quot;,\n        function ()\n            awful.client.focus.byidx( 1)\n            if client.focus then client.focus:raise() end\n        end),\n    awful.key(&#123; modkey,           &#125;, &quot;k&quot;,\n        function ()\n            awful.client.focus.byidx(-1)\n            if client.focus then client.focus:raise() end\n        end),\n    awful.key(&#123; modkey,           &#125;, &quot;w&quot;, function () mymainmenu:show(&#123;keygrabber=true&#125;) end),\n        -- Unminimize clients\n        awful.key(&#123; modkey, &quot;Control&quot; &#125;, &quot;m&quot;,\n        function ()\n            local allclients = client.get(mouse.screen)\n            for _, c in ipairs(allclients) do\n                if c.minimized and c:tags()[mouse.screen] == awful.tag.selected(mouse.screen) then\n                    c.minimized = false\n                    client.focus = c\n                    c:raise()\n                    return\n                end\n            end\n        end),\n    -- Layout manipulation\n    awful.key(&#123; modkey, &quot;Shift&quot;   &#125;, &quot;j&quot;, function () awful.client.swap.byidx(  1)    end),\n    awful.key(&#123; modkey, &quot;Shift&quot;   &#125;, &quot;k&quot;, function () awful.client.swap.byidx( -1)    end),\n    awful.key(&#123; modkey, &quot;Control&quot; &#125;, &quot;j&quot;, function () awful.screen.focus_relative( 1) end),\n    awful.key(&#123; modkey, &quot;Control&quot; &#125;, &quot;k&quot;, function () awful.screen.focus_relative(-1) end),\n    awful.key(&#123; modkey,           &#125;, &quot;u&quot;, awful.client.urgent.jumpto),\n        -- 截图 ---3\n        awful.key(&#123; &#125;, &quot;Print&quot;, function ()\n            -- 截图：全屏\n            awful.util.spawn(&quot;zsh -c &#39;cd ~/tmpfs&amp;&amp;scrot fullsc.png&#39;&quot;)\n            os.execute(&quot;sleep .5&quot;)\n            naughty.notify(&#123;title=&quot;截图&quot;, text=&quot;全屏截图已保存。&quot;&#125;)\n        end),\n        awful.key(&#123; &quot;Shift&quot;, &#125;, &quot;Print&quot;, function ()\n            -- 截图：当前窗口\n            awful.util.spawn(&quot;zsh -c &#39;cd ~/tmpfs&amp;&amp;scrot -u&#39;&quot;)\n            os.execute(&quot;sleep .5&quot;)\n            naughty.notify(&#123;title=&quot;截图&quot;, text=&quot;当前窗口截图已保存。&quot;&#125;)\n        end),\n \n        -- ---3 sdcv\n        awful.key(&#123; modkey &#125;, &quot;d&quot;, function ()\n            local f = io.popen(&quot;xsel -p&quot;)\n            local new_word = f:read(&quot;*a&quot;)\n            f:close()\n \n            if frame ~= nil then\n                naughty.destroy(frame)\n                frame = nil\n                if old_word == new_word then\n                    return\n                end\n            end\n            old_word = new_word\n \n            local fc = &quot;&quot;\n            local f = io.popen(&quot;sdcv -n --utf8-output -u &#39;stardict1.3英汉辞典&#39; &quot;..new_word)\n            for line in f:lines() do\n                fc = fc .. line .. &#39;\\n&#39;\n            end\n            f:close()\n            frame = naughty.notify(&#123; text = fc, timeout = 5, width = 320 &#125;)\n        end),\n    awful.key(&#123; modkey,           &#125;, &quot;Tab&quot;,\n        function ()\n            awful.client.focus.history.previous()\n            if client.focus then\n                client.focus:raise()\n            end\n        end),\n \n    -- Standard program\n    awful.key(&#123; modkey,           &#125;, &quot;Return&quot;, function () awful.util.spawn(terminal) end),\n    awful.key(&#123; modkey, &quot;Control&quot; &#125;, &quot;r&quot;, awesome.restart),\n    awful.key(&#123; modkey, &quot;Shift&quot;   &#125;, &quot;q&quot;, awesome.quit),\n \n    awful.key(&#123; modkey,           &#125;, &quot;l&quot;,     function () awful.tag.incmwfact( 0.05)    end),\n    awful.key(&#123; modkey,           &#125;, &quot;h&quot;,     function () awful.tag.incmwfact(-0.05)    end),\n    awful.key(&#123; modkey, &quot;Shift&quot;   &#125;, &quot;h&quot;,     function () awful.tag.incnmaster( 1)      end),\n    awful.key(&#123; modkey, &quot;Shift&quot;   &#125;, &quot;l&quot;,     function () awful.tag.incnmaster(-1)      end),\n    awful.key(&#123; modkey, &quot;Control&quot; &#125;, &quot;h&quot;,     function () awful.tag.incncol( 1)         end),\n    awful.key(&#123; modkey, &quot;Control&quot; &#125;, &quot;l&quot;,     function () awful.tag.incncol(-1)         end),\n    awful.key(&#123; modkey,           &#125;, &quot;space&quot;, function () awful.layout.inc(layouts,  1) end),\n    awful.key(&#123; modkey, &quot;Shift&quot;   &#125;, &quot;space&quot;, function () awful.layout.inc(layouts, -1) end),\n \n    -- Prompt\n    awful.key(&#123; modkey &#125;,            &quot;r&quot;,     function () mypromptbox[mouse.screen]:run() end),\n \n    awful.key(&#123; modkey &#125;, &quot;x&quot;,\n              function ()\n                  awful.prompt.run(&#123; prompt = &quot;Run Lua code: &quot; &#125;,\n                  mypromptbox[mouse.screen].widget,\n                  awful.util.eval, nil,\n                  awful.util.getdir(&quot;cache&quot;) .. &quot;/history_eval&quot;)\n              end)\n)\n \nclientkeys = awful.util.table.join(\n    awful.key(&#123; modkey,           &#125;, &quot;f&quot;,      function (c) c.fullscreen = not c.fullscreen  end),\n    awful.key(&#123; modkey, &quot;Shift&quot;   &#125;, &quot;c&quot;,      function (c) c:kill()                         end),\n    awful.key(&#123; modkey, &quot;Control&quot; &#125;, &quot;space&quot;,  awful.client.floating.toggle                     ),\n    awful.key(&#123; modkey, &quot;Control&quot; &#125;, &quot;Return&quot;, function (c) c:swap(awful.client.getmaster()) end),\n    awful.key(&#123; modkey,           &#125;, &quot;o&quot;,      awful.client.movetoscreen                        ),\n    awful.key(&#123; modkey, &quot;Shift&quot;   &#125;, &quot;r&quot;,      function (c) c:redraw()                       end),\n    awful.key(&#123; modkey,           &#125;, &quot;t&quot;,      function (c) c.ontop = not c.ontop            end),\n    awful.key(&#123; modkey,           &#125;, &quot;n&quot;,      function (c) c.minimized = not c.minimized    end),\n    awful.key(&#123; modkey,           &#125;, &quot;m&quot;,\n        function (c)\n            c.maximized_horizontal = not c.maximized_horizontal\n            c.maximized_vertical   = not c.maximized_vertical\n        end)\n)\n \n-- Compute the maximum number of digit we need, limited to 9\nkeynumber = 0\nfor s = 1, screen.count() do\n   keynumber = math.min(9, math.max(#tags[s], keynumber));\nend\n \n-- Bind all key numbers to tags.\n-- Be careful: we use keycodes to make it works on any keyboard layout.\n-- This should map on the top row of your keyboard, usually 1 to 9.\nfor i = 1, keynumber do\n    globalkeys = awful.util.table.join(globalkeys,\n        awful.key(&#123; modkey &#125;, &quot;#&quot; .. i + 9,\n                  function ()\n                        local screen = mouse.screen\n                        if tags[screen][i] then\n                            awful.tag.viewonly(tags[screen][i])\n                        end\n                  end),\n        awful.key(&#123; modkey, &quot;Control&quot; &#125;, &quot;#&quot; .. i + 9,\n                  function ()\n                      local screen = mouse.screen\n                      if tags[screen][i] then\n                          awful.tag.viewtoggle(tags[screen][i])\n                      end\n                  end),\n        awful.key(&#123; modkey, &quot;Shift&quot; &#125;, &quot;#&quot; .. i + 9,\n                  function ()\n                      if client.focus and tags[client.focus.screen][i] then\n                          awful.client.movetotag(tags[client.focus.screen][i])\n                      end\n                  end),\n        awful.key(&#123; modkey, &quot;Control&quot;, &quot;Shift&quot; &#125;, &quot;#&quot; .. i + 9,\n                  function ()\n                      if client.focus and tags[client.focus.screen][i] then\n                          awful.client.toggletag(tags[client.focus.screen][i])\n                      end\n                  end))\nend\n \nclientbuttons = awful.util.table.join(\n    awful.button(&#123; &#125;, 1, function (c) client.focus = c; c:raise() end),\n    awful.button(&#123; modkey &#125;, 1, awful.mouse.client.move),\n    awful.button(&#123; modkey &#125;, 3, awful.mouse.client.resize))\n \n-- Set keys\nroot.keys(globalkeys)\n-- ___\n \n-- --- Rules\nawful.rules.rules = &#123;\n    -- All clients will match this rule.\n    &#123; rule = &#123; &#125;,\n      properties = &#123; border_width = beautiful.border_width,\n                     border_color = beautiful.border_normal,\n                     focus = true,\n                     keys = clientkeys,\n                     buttons = clientbuttons &#125; &#125;,\n    &#123; rule = &#123; class = &quot;MPlayer&quot; &#125;,\n      properties = &#123; floating = true &#125; &#125;,\n    &#123; rule = &#123; class = &quot;pinentry&quot; &#125;,\n      properties = &#123; floating = true &#125; &#125;,\n    &#123; rule = &#123; class = &quot;gimp&quot; &#125;,\n      properties = &#123; floating = true &#125; &#125;,\n    -- Set Firefox to always map on tags number 2 of screen 1.\n    -- &#123; rule = &#123; class = &quot;Firefox&quot; &#125;,\n    --   properties = &#123; tag = tags[1][2] &#125; &#125;,\n&#125;\n-- ___\n \n-- --- Signals\n-- Signal function to execute when a new client appears.\nclient.add_signal(&quot;manage&quot;, function (c, startup)\n    -- Add a titlebar\n    -- awful.titlebar.add(c, &#123; modkey = modkey &#125;)\n \n    -- Enable sloppy focus\n    c:add_signal(&quot;mouse::enter&quot;, function(c)\n        if awful.layout.get(c.screen) ~= awful.layout.suit.magnifier\n            and awful.client.focus.filter(c) then\n            client.focus = c\n        end\n    end)\n \n    if not startup then\n        -- Set the windows at the slave,\n        -- i.e. put it at the end of others instead of setting it master.\n        -- awful.client.setslave(c)\n \n        -- Put windows in a smart way, only if they does not set an initial position.\n        if not c.size_hints.user_position and not c.size_hints.program_position then\n            awful.placement.no_overlap(c)\n            awful.placement.no_offscreen(c)\n        end\n    end\nend)\n \nclient.add_signal(&quot;focus&quot;, function(c) c.border_color = beautiful.border_focus end)\nclient.add_signal(&quot;unfocus&quot;, function(c) c.border_color = beautiful.border_normal end)\n-- ___\nfloatapps =\n&#123;\n    [&quot;MPlayer&quot;] = true,\n    [&quot;gimp&quot;] = true,\n    [&quot;smplayer&quot;] = true,\n    [&quot;mocp&quot;] = true,\n    [&quot;Codeblocks&quot;] = true,\n    [&quot;Dialog&quot;] = true,\n    [&quot;Download&quot;] = true,\n    [&quot;empathy&quot;] = true,\n&#125;\n \n-- 把指定的程序自动移动到某个特定的屏幕的某个tag上面\napptags =\n&#123;\n    [&quot;smplayer&quot;] = &#123; screen = 1, tag = 7 &#125;,\n    [&quot;amarokapp&quot;] = &#123; screen = 1, tag = 8 &#125;,\n    [&quot;VirtualBox&quot;] = &#123; screen = 1, tag = 9 &#125;,\n    [&quot;Firefox&quot;] = &#123; screen = 1, tag = 1&#125;,\n    [&quot;Thunderbird-bin&quot;] = &#123; screen = 1, tag = 7 &#125;,\n    [&quot;Linux-fetion&quot;] = &#123; screen = 1, tag = 6 &#125;,\n&#125;\n\n","categories":["technology"],"tags":["awesome"]},{"title":"lua通过google的天气api获得天气","url":"/2011/03/24/2011/googleweather-by-lua/","content":"lua获取天气昨天写了一个lua的天气脚本，主要是获取http://qq.ip138.com天气信息，基本功能都已实现，但是唯一不足之处，就是不能显示当前的天气及气温。所以今天在网上找了下这方面的资料，发现google天气API获得满足了这个需求，于是就有折腾了下。google API特点：当天气和气温是实时的，明后几天是温度区间。\n上代码先\n#!/usr/bin/lua5.1\nlocal http = require(&quot;socket.http&quot;)\n------------------------regex-------------------------\nfunction get_weather(con)\n    local s = &quot;&lt;current_conditions&gt;.*&lt;\\/forecast_conditions&gt;&quot;\n    local i ,j = string.sub(con, string.find(con,s))\n    local s = &quot;\\&quot;[a-z0-9A-Z%s:%%]*\\&quot;&quot; \n    local info\n    for word in string.gmatch(i, s) do\n            info = tostring(info)..&quot;\\t&quot;..tostring(word) \n    end\n    local i, j = string.gsub(info, &quot;\\&quot;&quot;,&quot;&quot;)\n    local l = split(i,&quot;\\t&quot;)\n    return l\nend\n \n------------------------split-------------------------\nfunction split(string, spt)\n    local find_index = 1\n    local spt_index = 1\n    local spt_arr = &#123;&#125;\n    while true do\n        local find_end = string.find(string, spt, find_index)\n        if not find_end then\n            spt_arr[spt_index] = string.sub(string, find_index, string.len(string))\n            break\n        end\n        spt_arr[spt_index] = string.sub(string, find_index, find_end - 1)\n        find_index = find_end + string.len(spt)\n        spt_index = spt_index + 1\n    end\n    return spt_arr\nend\n \n------------------------main-------------------------\nfunction main()\n    local url = &quot;http://www.google.com/ig/api?weather=chengdu&quot;\n    local con, ret = http.request(url)\n    if con == nil then\n        print (&quot;nil&quot;)\n    else\n        local l =   get_weather(con)\n        print(l[2],l[3],l[4],l[5],l[6])\n    end\nend\n \nmain()\n\n数组中包含了最近几天的天气信息，没有像昨天的那个脚本那样进行分类，这是一个遗憾，不过下标的位置是固定的，这也方便了取值！\n","categories":["technology"],"tags":["lua"]},{"title":"irssi + bitlbee","url":"/2011/07/26/2011/irssi-bitlbee/","content":"irssi and bitlbee装上irssi 和　bitlbee 之后最头疼的是各种提示:\nbitlbee所有的上下线提示关闭，所有IRC频道提示关闭\n/ignore &amp;bitlbee MODES\n/ignore * MODES\n\n","categories":["technology"],"tags":["irssi"]},{"title":"lua 获得天气信息","url":"/2011/03/23/2011/getweather-by-lua/","content":"其实开始是想做在awesome statbar显示天气的（字体图标的那种），现在终端获得天气已经写好！\n明天再着手搞字体的转换问题!\n#!/usr/bin/lua5.1\nlocal http = require(&quot;socket.http&quot;)\n------------------------split-------------------------\nfunction get_weather(con)\n    local s = &quot;&lt;b&gt;.*&lt;br\\/&gt;&lt;br\\/&gt;&quot;\n    local i ,j = string.sub(con, string.find(con,s))\n    local i, n = string.gsub(i, &quot;&lt;br\\/&gt;&lt;br\\/&gt;&lt;b&gt;&quot;,&quot;\\n&quot;)\n    local i, j = string.gsub(i, &quot;&lt;br\\/&gt;&quot;,&quot;\\t&quot;)\n    local i, j = string.gsub(i, &quot;&lt;\\/b&gt;&quot;,&quot;&quot;)\n    local i, j = string.gsub(i, &quot;&lt;b&gt;&quot;,&quot;&quot;)\n    local i, j = string.gsub(i, &quot;℃&quot;,&quot;°C&quot;)\n    local i, j = string.gsub(i, &quot;～&quot;,&quot;-&quot;)\n    --  print(i,n+1)--所有天气\n    local list_n = split(i, &quot;\\n&quot;)\n    local list_t = split(list_n[1],&quot;\\t&quot;)\n    return list_t\nend\n \n------------------------split-------------------------\nfunction split(string, spt)\n    local find_index = 1\n    local spt_index = 1\n    local spt_arr = &#123;&#125;\n    while true do\n        local find_end = string.find(string, spt, find_index)\n        if not find_end then\n            spt_arr[spt_index] = string.sub(string, find_index, string.len(string))\n            break\n        end\n        spt_arr[spt_index] = string.sub(string, find_index, find_end - 1)\n        find_index = find_end + string.len(spt)\n        spt_index = spt_index + 1\n    end\n    return spt_arr\nend\n \n------------------------main-------------------------\nfunction main()\n    local url = &quot;http://qq.ip138.com/weather/sichuan/chengdu.wml&quot;\n    local con, ret = http.request(url)\n    if con == nil then\n        print (&quot;nil&quot;)\n    else\n    --  print (con)\n        local list_t =  get_weather(con)\n        print (&#39;今天天气:&#39;,list_t[1],list_t[2],list_t[3],list_t[4])\n    end\nend\n \nmain()\n\n","categories":["technology"],"tags":["lua"]},{"title":"关于awesome设置时间格式的问题！","url":"/2011/01/28/2011/something-about-awesome-s-date/","content":"支持版本awesome 3.4.5 以上\n背景今天突然想修改下awesome的系统时间显示，google了下，基本都是手册上所说！\n格式%a %b %d, %H:%M 为awesome默认配置（ 在/etc/xdg/awesome/rc.lua中并没有这么书写而是\nmytextclock = awful.widget.textclock(&#123; align = &quot;right&quot; &#125;) \n\n后面的格式和时间刷新省略了，默认刷新是60秒），看到%a %b %d, %H:%M，让我想到了系统命令date的参数，之前曾经处理过类似的格式显示，所以这次直接man date，果然，其中的格式控制和上面完全吻合，猜想lua脚本中使用日期格式控制应该是调用系统命令date的格式控制。\n具体代码了解到之后就在rc.lua中修改\nmytextclock = awful.widget.textclock(&#123; align = &quot;right&quot; &#125;,&quot;%x %X&quot;,1)\n\n正如预期结果一样，时间显示为（01/26/11 17:13:48）！看来lua语言还是调用底层的系统函数来实现日期时间的格式的。（lua也在偷懒）\n","categories":["technology"],"tags":["awesome"]},{"title":"写了一个类似prey功能的脚本","url":"/2011/08/24/2011/perl-prey/","content":"在网上年到prey(就是传说中的黑客找回已丢电脑那个工具)感觉还不错,就是要注册,使用次数还有限制,所以打算自己折腾一下! \nlost 脚本放在&#x2F;usr&#x2F;bin 下,请自己加执行权限:chmod +x /usr/bin/lost\n\n使用方法:lost -h\n\n脚本源码lost:#!/bin/bash\n####################################################################\n# Lost create by leaveboy@gmail.com\n# Discription: when your pc lost,it can help you to find it!\n# License: GPLv3\n###################################################################)\nversion=1.0\n \nscp_user=&#39;leaveboy&#39;  #user\nscp_server=&#39;216.194.70.6&#39; #an online server which pc could connect\nscp_path=&quot;/home/$&#123;scp_user&#125;/&quot; #lost file path\nemail=&#39;leaveboy@gmail.com&#39;  # address msg_file and image send to\nmsg_file=&#39;/tmp/lostinfo&#39;\n \nshow_version()&#123;\n    echo &quot;Prey $&#123;version&#125;&quot;\n&#125;\nshow_usage()&#123;\n    echo &quot;Prey $&#123;version&#125; &quot;\n    echo -e &quot;\\nUsage: `basename $0` [options]&quot;\n    echo -e &quot;Options:&quot;\n    echo -e &quot;  -v | --version\\tShow Current Version.&quot;\n    echo -e &quot;  -h | --help\\t\\tShow this message.\\n&quot;\n    echo -e &quot;NOTICE&quot;\n    echo -e &quot;  This script runs under linux system and For Run this script you should have follow software:\\\n        w3m scrot mutt ssh.\\n&quot;\n    echo -e &quot;ADD/DELETE CRONTAB&quot;\n    echo -e &quot;  Run the follow command to add lost to crontab:&quot;\n    echo -e &quot;  \\$(sudo crontab -l | grep -v lost; echo \\&quot;*/20 * * * * /usr/bin/lost &gt; /var/log/lost.log\\&quot;) | sudo crontab -&quot;\n    echo -e &quot;  Run the follow command to delete lost from crontab:&quot;\n    echo -e &quot;  \\$(sudo crontab -l | grep -v lost) | sudo crontab -\\n&quot;\n    echo -e &quot;ACTIVE/UNACTIVE&quot;\n    echo -e &quot;  Touch a file named \\&quot;lost\\&quot;under the scp_path of the scp_server to actived.&quot;\n    echo -e &quot;  remove the file \\&quot;lost\\&quot; under the scp_path of the scp_server to unactived.\\n&quot;\n&#125;\n \nuntil [ -z &quot;$1&quot; ]; do\n    case &quot;$1&quot; in\n        -v | --version )\n            show_version &amp;&amp; exit\n            ;;\n        -h | --help | * )\n            show_usage &amp;&amp; exit\n    esac\n    shift\ndone\n \nsend_mail()&#123;\n    F=`scrot &#39;%F-%T_$wx$h_scrot.png&#39; -e  &#39;mv $f /tmp/ &amp; echo $f&#39;`\n    #you can add any what you want in here\n    `w3m http://www.ip138.com/ips8.asp  | grep &#39;来自&#39; &gt; $&#123;msg_file&#125;`    #网络地址\n    `uname -a &gt;&gt;  $&#123;msg_file&#125;`                                          #系统信息\n    `uptime   &gt;&gt;  $&#123;msg_file&#125;`                                          #启动信息\n    `ifconfig &gt;&gt;  $&#123;msg_file&#125;`                                          #网络信息\n    `ps ux   &gt;&gt;  $&#123;msg_file&#125;`                                           #用户进程\n    `more $&#123;msg_file&#125; | mutt -s &quot;lost&quot; $&#123;email&#125; -a /tmp/$&#123;F&#125;`\n&#125;\n#run condition you can change it and get some info from lost,of course,if it has!\nif [ -f &quot;/tmp/lost&quot; ]; then\n    send_mail &amp;&amp; exit\nelse\n    `scp $&#123;scp_user&#125;@$&#123;scp_server&#125;:$&#123;scp_path&#125;/lost /tmp/lost`\n    if [ -f &quot;/tmp/lost&quot; ]; then\n        send_mail &amp;&amp; exit\n    fi\nfi\n\n","categories":["technology"],"tags":["code"]},{"title":"statfs获得硬盘使用情况 模拟linux命令 df （2011.3.24修正）","url":"/2009/10/10/2009/df/","content":"statfs:结构：#include &lt;sys/vfs.h&gt;    /* 或者 &lt;sys/statfs.h&gt; */\n\nint statfs(const char *path, struct statfs *buf);\nint fstatfs(int fd, struct statfs *buf);\n\n参数：`path`: 位于需要查询信息的文件系统的文件路径名。    \n`fd`： 位于需要查询信息的文件系统的文件描述词。\n`buf`：以下结构体的指针变量，用于储存文件系统相关的信息\n\nstruct statfs &#123;\n   long    f_type;     /* 文件系统类型  */\n   long    f_bsize;    /* 经过优化的传输块大小  */\n   long    f_blocks;   /* 文件系统数据块总数 */\n   long    f_bfree;    /* 可用块数 */\n   long    f_bavail;   /* 非超级用户可获取的块数 */\n   long    f_files;    /* 文件结点总数 */\n   long    f_ffree;    /* 可用文件结点数 */\n   fsid_t  f_fsid;     /* 文件系统标识 */\n   long    f_namelen;  /* 文件名的最大长度 */\n&#125;;\n\nstatfs结构中可用空间块数有两种f_bfree和 f_bavail，前者是硬盘所有剩余空间，后者为非root用户剩余空间，ext3文件系统给root用户分有5%的独享空间，所以这里是不同的地方。这里要强调的是每块的大小一般是4K。因此，要实现与df结果一致的就得在获得块数上乘以4，这样已用、可用、总块数就可以实现。如果还要实现百分比一致，那么要注意的是，df命令获得是整数百分比，没有小数，这里使用的进一法，而不是四舍五入法。所以在程序里直接+1取整。\n下面是实现的一个例子：（home目录为一个独立分区）    #include &lt;stdio.h&gt;    #include &lt;sys&#x2F;vfs.h&gt;\nint main()\n&#123;\n    struct statfs sfs;\n    int i = statfs(&quot;/home&quot;, &amp;sfs);\n    int percent = (sfs.f_blocks - sfs.f_bfree ) * 100 / (sfs.f_blocks - sfs.f_bfree + sfs.f_bavail) + 1;\n    printf(&quot;/dev/sda11            %ld    %ld  %ld   %d%% /home\\n&quot;,\n                           4*sfs. f_blocks, 4*(sfs.f_blocks - sfs.f_bfree),      4*sfs.f_bavail, percent);\n    system(&quot;df /home &quot;);\n    return 0;\n\n&#125;\n\n执行结果:\nleave@LEAVE:~/test$ gcc -o df df.c\nleave@LEAVE:~/test$ ./df\n/dev/sda11            42773008    540356  40059864   2% /home\n文件系统           1K-块        已用     可用 已用% 挂载点\n/dev/sda11            42773008    540356  40059864   2% /home\nleave@LEAVE:~/test$\n\n—————————————–busybox 中使用的挂载分区获取使用率—————————–\n#include &lt;stdio.h&gt;\n#include &lt;sys/vfs.h&gt;\n\n#include &lt;string.h&gt;\n\n\nextern int get_free_rate(char *path)\n&#123;\n struct statfs str_diskatr;\n long blocks_percent_used=0;\n long blocks_used=0;\n memset( &amp;str_diskatr, 0x00, sizeof(str_diskatr) );\n\n if ( 0x00 == statfs( path, &amp;str_diskatr ) )\n &#123;\n  if ( (str_diskatr.f_blocks != 0x00) )&#123;\n   blocks_used = str_diskatr.f_blocks - str_diskatr.f_bfree;\n   blocks_percent_used = (((long long) blocks_used) * 100\n     + (blocks_used + str_diskatr.f_bavail)/2\n     ) / (blocks_used + str_diskatr.f_bavail);\n   return blocks_percent_used;\n  &#125;\n  else\n   return -1;\n &#125;\n else if(-1 == statfs( path, &amp;str_diskatr ))\n &#123;\n  if(errno == ENOENT)\n  &#123;\n   return 0;\n  &#125;\n &#125;\n else\n &#123;return -1;&#125;\n\n return -1;\n&#125;\n\n上面程序裁剪自busybox，使用\n#define IDEDIR  &quot;/mnt/ide/&quot;   //挂载目录\n\n（int ）ide_useage = get_free_rate(IDEDIR);\n\n———————————-计算文件夹占用空间大小———————————————–\n#include &lt;stdio.h&gt;\n#include &lt;errno.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;sys/types.h&gt;\n#include &lt;sys/stat.h&gt;\n\nstatic unsigned int total = 0;\n\nint sum(const char *fpath, const struct stat *sb, int typeflag)\n&#123;\n\n    total += sb-&gt;st_size;\n    return 0;\n\n&#125;\n\n\nint main(int argc, char **argv)\n&#123;\n\n    if (!argv[1] || access(argv[1], R_OK)) &#123;\n\n        return 1;\n\n    &#125;\n\n    if (ftw(argv[1], &amp;sum, 1)) &#123;\n\n        perror(&quot;ftw&quot;);\n\n        return 2;\n\n    &#125;\n\n    printf(&quot;%s: %u\\n&quot;, argv[1], total);\n\n    return 0;\n\n&#125;\n\n执行结果:\nlm@LM:/home/lm/tmpfs/c_c++&gt; gcc -o du  du.c            11-03-24 10:06\nlm@LM:/home/lm/tmpfs/c_c++&gt; ./du /home/lm/音乐         11-03-24 10:22\n/home/lm/音乐: 726629477\nlm@LM:/home/lm/tmpfs/c_c++&gt;                            11-03-24 10:22\n\n\n（2010.6.29修正 添加busybox中的系统算法）\n（2011.3.24修正 添加获取文件夹的大小）\n\n","categories":["technology"],"tags":["code"]}]